[
  {
    "objectID": "Enseigne_R.html",
    "href": "Enseigne_R.html",
    "title": "OBJECTIF 1 : Statistiques avec R",
    "section": "",
    "text": "On se propoe de montrer l’intérêt de R pour l’enseignement de la statistique aux étudiants de licence de géographie… Cet exercice correspond typiquement au travail qu’on pourrait donner à des étudiants de licence 2 ou 3 ayant suivi des cours de statistique univariée et bivariée et ayant des connaissances de base en cartographie thématique.\nOn propose de réaliser une analyse de la distribution de l’Indicateur de Développement humain des régions de Côte d’Ivoire entre 2002 et 2022 à l’aide des données accessibles sur le site Global Data Lab . Le programme est rédigé de telle sorte qu’on puisse facilement refaire l’exercice en prenant d’autres dates (ex. Evolution entre 2012 et 2022) ou d’autres pays d’Afrique de l’Ouest.\nCode\nlibrary(sf)\nlibrary(dplyr)"
  },
  {
    "objectID": "Enseigne_R.html#preparation-des-donnees-statistiques",
    "href": "Enseigne_R.html#preparation-des-donnees-statistiques",
    "title": "OBJECTIF 1 : Statistiques avec R",
    "section": "(1) PREPARATION DES DONNEES STATISTIQUES",
    "text": "(1) PREPARATION DES DONNEES STATISTIQUES\n\nConsigne : Après avoir chargé les fichiers idh2002.csv et idh2022.csv, construisez un tableau de donnée comportant le code et le nom des régions ainsi que leur population et leur indicateur de développement humain aux deux dates.\n\n\n\nCode\n# Importe les données\ntab1&lt;-read.table(\"data/exo_stats/idh1992.csv\", \n                dec=\".\",\n                sep = \";\",\n                header=TRUE)\ntab2&lt;-read.table(\"data/exo_stats/idh2022.csv\", \n                dec=\".\", \n                sep=\";\",\n                header=TRUE)\n\n# Sélectionne les variables\ntab1 &lt;- tab1 %&gt;% select(code=code, pays=pays, nom=nom, pop1992 = pop, idh1992 = idh)\ntab2 &lt;- tab2 %&gt;% select(code=code,  pop2022 = pop, idh2022 = idh)\n\n# Fusionne les deux tableaux\ndon &lt;- left_join(tab1,tab2)\n\n\n# Affiche\nlibrary(knitr)\nkable(don, \n      main = \"Tableau de départ\")\n\n\n\n\n\ncode\npays\nnom\npop1992\nidh1992\npop2022\nidh2022\n\n\n\n\nCIVr101\nCIV\nAbidjan\n2728\n0.564\n5984\n0.569\n\n\nCIVr102\nCIV\nYamoussoukro\n112\n0.623\n245\n0.619\n\n\nCIVr103\nCIV\nBas Sassandra\n529\n0.406\n1160\n0.520\n\n\nCIVr104\nCIV\nComoe\n749\n0.378\n1642\n0.582\n\n\nCIVr105\nCIV\nDenguele\n381\n0.332\n836\n0.440\n\n\nCIVr106\nCIV\nGoh-Djiboua\n686\n0.424\n1504\n0.551\n\n\nCIVr107\nCIV\nLacs\n1098\n0.389\n2409\n0.542\n\n\nCIVr108\nCIV\nLagunes\n1023\n0.456\n2245\n0.566\n\n\nCIVr109\nCIV\nMontagnes\n1365\n0.380\n2994\n0.492\n\n\nCIVr110\nCIV\nSassandra-Marahoue\n1614\n0.407\n3541\n0.512\n\n\nCIVr111\nCIV\nSavanes\n628\n0.409\n1376\n0.471\n\n\nCIVr112\nCIV\nVallee du Bandama\n520\n0.443\n1140\n0.554\n\n\nCIVr113\nCIV\nWoroba\n574\n0.199\n1259\n0.423\n\n\nCIVr114\nCIV\nZanzan\n834\n0.320\n1829\n0.491"
  },
  {
    "objectID": "Enseigne_R.html#statistique-univariee",
    "href": "Enseigne_R.html#statistique-univariee",
    "title": "OBJECTIF 1 : Statistiques avec R",
    "section": "(2) STATISTIQUE UNIVARIEE",
    "text": "(2) STATISTIQUE UNIVARIEE\n\nParamètres principaux\n\nConsigne : Etudiez l’évolution de l’IDH entre 1992 et 2022 en vous servant de paramètres principaux (valeurs centrales, paramètres de dispersion). Puis établissez deux histogrammes permettant de visualiser l’évolution.\n\n\n\nCode\n# sélectionne les variables\nsel &lt;- don[,c(\"idh1992\",\"idh2022\")]\n\n# Tableau standard\nquant&lt;-apply(sel,2,quantile)\nmoy&lt;-apply(sel,2,mean)\nect&lt;-apply(sel,2,sd)\ncv&lt;-100*ect/moy\ntab&lt;-rbind(quant,moy,ect,cv)\nrow.names(tab) &lt;-c(\"Minimum\",\"Q1\",\"Médiane\",\"Q3\",\"Maximum\",\"Moyenne\",\"Ecart-type\", \"C.V. (%)\")\n\nkable(tab, caption=\"Paramètres principaux\", digits =2,\n      col.names = c(\"Situation en 1992\",\"Situation en 2022\"),\n      )\n\n\n\nParamètres principaux\n\n\n\nSituation en 1992\nSituation en 2022\n\n\n\n\nMinimum\n0.20\n0.42\n\n\nQ1\n0.38\n0.49\n\n\nMédiane\n0.41\n0.53\n\n\nQ3\n0.44\n0.56\n\n\nMaximum\n0.62\n0.62\n\n\nMoyenne\n0.41\n0.52\n\n\nEcart-type\n0.10\n0.06\n\n\nC.V. (%)\n24.77\n10.65\n\n\n\n\n\n\n\nHistogrammes\n\nConsigne : Etablissez deux histogrammes permettant de visualiser la forme de la distribution de l’IDH en 1992 et en 2022\n\n\n\nCode\npar(mfrow=c(2,1))\n\nmintot &lt;-min(c(sel$idh1992, sel$idh2022))\nmaxtot &lt;-max(c(sel$idh1992, sel$idh2022))\n\n# Histogramme\nhist(sel$idh1992,\n     breaks=quantile(sel$idh1992),\n     xlim=c(mintot,maxtot),\n     col=\"gray80\",\n     main= \"Situation en 1992\",\n     xlab = \"IDH régional\",\n     ylab = \"Fréquence moyenne\")\nrug(sel$idh1992, col=\"black\", lwd=2)\nlines(density(sel$idh1992), lty=3,lwd=2)\n\nhist(sel$idh2022,\n     breaks=quantile(sel$idh2022),\n     xlim=c(mintot,maxtot),\n     col=\"gray80\",\n     main= \"Situation en 2022\",\n     xlab = \"IDH régional\",\n     ylab = \"Fréquence moyenne\")\nrug(sel$idh2022, col=\"black\", lwd=2)\nlines(density(sel$idh2022), lty=3,lwd=2)"
  },
  {
    "objectID": "Enseigne_R.html#preparation-des-donnees-geometriques",
    "href": "Enseigne_R.html#preparation-des-donnees-geometriques",
    "title": "OBJECTIF 1 : Statistiques avec R",
    "section": "(3) PREPARATION DES DONNEES GEOMETRIQUES",
    "text": "(3) PREPARATION DES DONNEES GEOMETRIQUES\n\nConsigne : Après avoir chargé le fonds de carte affichez le contour des régions et le code des unités.\n\n\n\nCode\n# Importe le fonds de carte\nmap &lt;- st_read(\"data/exo_stats/mapreg.shp\")\n\n\nReading layer `mapreg' from data source \n  `/Users/claudegrasland1/worldregio/afromapr/data/exo_stats/mapreg.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 14 features and 3 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -8.599302 ymin: 4.361807 xmax: -2.494888 ymax: 10.73664\nGeodetic CRS:  WGS 84\n\n\nCode\n# Projette\nmap &lt;- st_transform(map, 2042)\n\n\n# Affichage du fonds de carte\npar(mar=c(0,0,3,0))\nplot(map$geometry, \n     col=\"gray90\",\n     main = \"Code des unités spatiales de la zone d'étude\")\n\n# Ajout du code des unités spatiales\ncoo&lt;-st_coordinates(st_centroid(map))\ntext(coo, map$code, cex=0.5,col=\"black\",)"
  },
  {
    "objectID": "Enseigne_R.html#cartographie-thematique",
    "href": "Enseigne_R.html#cartographie-thematique",
    "title": "OBJECTIF 1 : Statistiques avec R",
    "section": "(4) CARTOGRAPHIE THEMATIQUE",
    "text": "(4) CARTOGRAPHIE THEMATIQUE\n\nCartes de stock\n\nConsigne : Réalisez deux cartes de stock décrivant le nombre d’habitants en 2002 et 2022 Vous utiliserez la même échelle de taille pour rendre les deux cartes comparables.\n\n\n\nCode\nlibrary(mapsf)\nmap&lt;-map[,c(\"code\",\"geometry\")]\nmap_don &lt;- merge(map, don, by=\"code\")\n\nmaxequ&lt;-max(don$pop012,don$pop2022)\n\npar(mfrow=c(1,2))\nmf_map(map_don$geometry, col=\"white\")\nmf_map(map_don, type=\"prop\", var=\"pop1992\",\n       val_max = maxequ, inches=0.1, col=\"gray20\", \n       leg_title = \"Population (milliers)\",)\nmf_layout(title=\"1992\",frame = T, credits = \"Source : Global Data Lab, 2025\")\n\nmf_map(map_don$geometry, col=\"white\")\nmf_map(map_don, type=\"prop\", var=\"pop2022\",\n       val_max = maxequ, inches=0.1, col=\"gray20\",\n       leg_title = \"Population (milliers)\")\nmf_layout(title=\"2022\",frame = T, credits = \"Source : Gloabl Data Lab 2025\")\n\n\n\n\n\n\n\nCartes de ratio (choroplèthes)\n\nConsigne : Réalisez deux cartes de taux décrivant le niveau de l’IDH en 2002 et 2022. Pour les rendre comparables vous utiliserez dans chaque carte une partition en quartiles (4 classes d’effectifs égaux)\n\n\n\nCode\nlibrary(mapsf)\nmap_don &lt;- merge(map, don, by=\"code\")\nmaxequ&lt;-max(don$hdi2002,don$hdi2022)\n\npar(mfrow=c(1,2))\nmf_map(map_don, type=\"choro\", var=\"idh1992\",\n       breaks = \"quantile\",nbreaks = 4, pal =\"Grays\",\n       leg_title = \"IDH\",leg_val_rnd = 2)\nmf_layout(title=\"1992\",frame = T, credits = \"Source : Global Data Lab, 2025\")\n\nmf_map(map_don, type=\"choro\", var=\"idh2022\",\n       breaks = \"quantile\",nbreaks = 4, pal =\"Grays\",\n       leg_title = \"IDH\",leg_val_rnd = 2)\nmf_layout(title=\"2022\",frame = T, credits = \"Source : Global Data Lab, 2025\")"
  },
  {
    "objectID": "Enseigne_R.html#statistiques-bivariees",
    "href": "Enseigne_R.html#statistiques-bivariees",
    "title": "OBJECTIF 1 : Statistiques avec R",
    "section": "(5) STATISTIQUES BIVARIEES",
    "text": "(5) STATISTIQUES BIVARIEES\n\nNuage de points\n\nConsigne : Tracez un nuage de point montrant l’évolution de l’indicateur de développement humain entre les deux dates.\n\n\n\nCode\n# prépration de l'analyse\ncode&lt;-don$code\nnom&lt;-don$nom\nX&lt;-don$idh1992\nY&lt;-don$idh2022\ntab&lt;-data.frame(code,nom,X,Y)\n\n# Diagramme\nplot(tab$X,tab$Y, \n     pch=20,\n     cex=0.8,\n     col=\"red\",\n     main = \"Evolution de l'IDH\",\n     xlab=\"IDH 1992\",\n     ylab =\"IDH 2022\")\ntext(tab$X,tab$Y,tab$nom, \n     pos=2,\n     cex=0.5,\n     col=\"blue\")\n\n\n\n\n\n\n\nAnalyse de la corrélation\n\nConsigne : calculez les coefficients de corrélation de Pearson et Spearman et testez leur sgnificativité.\n\n\n\nCode\ncor.test(X,Y, method=\"pearson\")\n\n\n\n    Pearson's product-moment correlation\n\ndata:  X and Y\nt = 4.9223, df = 12, p-value = 0.0003524\nalternative hypothesis: true correlation is not equal to 0\n95 percent confidence interval:\n 0.5073463 0.9403486\nsample estimates:\n      cor \n0.8177876 \n\n\nCode\ncor.test(X,Y, method=\"spearman\")\n\n\n\n    Spearman's rank correlation rho\n\ndata:  X and Y\nS = 134, p-value = 0.006405\nalternative hypothesis: true rho is not equal to 0\nsample estimates:\n      rho \n0.7054945 \n\n\n\n\nDroite de régression\n\nConsigne : calculez l’equation de la droite de régression et tracez- là sur le graphique.\n\n\n\nCode\nmodreg &lt;- lm(Y~X)\nsummary(modreg)\n\n\n\nCall:\nlm(formula = Y ~ X)\n\nResiduals:\n      Min        1Q    Median        3Q       Max \n-0.052586 -0.016570 -0.001574  0.019274  0.072368 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  0.33948    0.03848   8.823 1.36e-06 ***\nX            0.45013    0.09145   4.922 0.000352 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.03342 on 12 degrees of freedom\nMultiple R-squared:  0.6688,    Adjusted R-squared:  0.6412 \nF-statistic: 24.23 on 1 and 12 DF,  p-value: 0.0003524\n\n\nCode\n# Diagramme\nplot(tab$X,tab$Y, \n     pch=20,\n     cex=0.8,\n     col=\"red\",\n     main = \"Evolution de l'IDH\",\n     xlab=\"IDH 1992\",\n     ylab =\"IDH 2022\")\ntext(tab$X,tab$Y,tab$nom, \n     pos=2,\n     cex=0.5,\n     col=\"blue\")\n\nabline(modreg,col=\"black\",lwd=1)\n\n\n\n\n\n\n\nAnalyse des résidus\n\nConsigne : Calculez les valeurs théoriques prévus par le modèle de régression et les résidus. Affichez le tableau correspondant après l’avoir trié par ordre de résidus croissants.\n\n\n\nCode\ntab$Y_est &lt;- modreg$fitted.values\ntab$Y_res &lt;- modreg$residuals\ntab&lt;-tab[order(tab$Y_res),]\nkable(tab, digits=3)\n\n\n\n\n\n\ncode\nnom\nX\nY\nY_est\nY_res\n\n\n\n\n11\nCIVr111\nSavanes\n0.409\n0.471\n0.524\n-0.053\n\n\n5\nCIVr105\nDenguele\n0.332\n0.440\n0.489\n-0.049\n\n\n1\nCIVr101\nAbidjan\n0.564\n0.569\n0.593\n-0.024\n\n\n9\nCIVr109\nMontagnes\n0.380\n0.492\n0.511\n-0.019\n\n\n10\nCIVr110\nSassandra-Marahoue\n0.407\n0.512\n0.523\n-0.011\n\n\n13\nCIVr113\nWoroba\n0.199\n0.423\n0.429\n-0.006\n\n\n3\nCIVr103\nBas Sassandra\n0.406\n0.520\n0.522\n-0.002\n\n\n2\nCIVr102\nYamoussoukro\n0.623\n0.619\n0.620\n-0.001\n\n\n14\nCIVr114\nZanzan\n0.320\n0.491\n0.484\n0.007\n\n\n12\nCIVr112\nVallee du Bandama\n0.443\n0.554\n0.539\n0.015\n\n\n6\nCIVr106\nGoh-Djiboua\n0.424\n0.551\n0.530\n0.021\n\n\n8\nCIVr108\nLagunes\n0.456\n0.566\n0.545\n0.021\n\n\n7\nCIVr107\nLacs\n0.389\n0.542\n0.515\n0.027\n\n\n4\nCIVr104\nComoe\n0.378\n0.582\n0.510\n0.072\n\n\n\n\n\n\n\nCartographie des résidus\n\nConsigne : Cartographiez les résidus après les avoir standardisés.\n\n\n\nCode\nlibrary(mapsf)\n\n# Standardisation des résidus\ntab$Y_res_std&lt;-tab$Y_res/sd(tab$Y_res)\n\n# Jointure avec la carte\nmap&lt;-map[,c(\"code\",\"geometry\")]\nmap_reg &lt;- merge(map, tab, by=\"code\")\n\n# Choix de la palette et des classes\nlibrary(RColorBrewer)\nmypal&lt;-brewer.pal(n = 6, name = \"RdYlBu\")\nmybreaks = c(-10, -2,-1,0,1,2,10)\n\nmf_map(map_reg, type=\"choro\", var=\"Y_res_std\",\n       pal = mypal, breaks=mybreaks,\n       leg_title = \"Résidus standardisés\",leg_val_rnd = 1)\nmf_layout(title=\"Ecarts à la tendance 1992-2022\",frame = T, credits = \"Source : Global Data Lab, 2025\")"
  },
  {
    "objectID": "Enseigne_R.html#analyse-spatiale",
    "href": "Enseigne_R.html#analyse-spatiale",
    "title": "OBJECTIF 1 : Statistiques avec R",
    "section": "(6) ANALYSE SPATIALE",
    "text": "(6) ANALYSE SPATIALE\nOn se propose d’analyser l’effet de la distance à la capitale économique (Abidjan) ou politique (Yamoussoukro) sur l’évolution de lIDH entre 1992 et 2022\n\nDistance aux deux capitales.\n\nConsigne : ajoutez au tableau de données une colonne correspondant à la distance en km à Abidjan ou Yamoussoukro et faites en une cartographie en prenant comme bornes de classes 0, 100, 200, 300, 400, 500, 1000 km.\n\n\n\nCode\nmap_don$capeco&lt;-0\nmap_don$capeco[1]&lt;-1\ncapeco&lt;-map_don[map_don$capeco==1,]\nmap_don$distcapeco&lt;-1+as.numeric(st_distance(st_centroid(map_don),st_centroid(capeco)))/1000\n\nmap_don$cappol&lt;-0\nmap_don$cappol[2]&lt;-1\ncappol&lt;-map_don[map_don$cappol==1,]\nmap_don$distcappol&lt;-1+as.numeric(st_distance(st_centroid(map_don),st_centroid(cappol)))/1000\n\n\n\n# Choix de la palette et des classes\nmypal&lt;-brewer.pal(n = 7, name = \"Greys\")\nmybreaks = c(0,100,200,300,400,500, 1000)\n\npar(mfrow=c(1,2))\nmf_map(map_don, type=\"choro\", var=\"distcapeco\",\n       pal = mypal, breaks=mybreaks,\n       leg_title = \"en km\",leg_val_rnd = 0)\nmf_layout(title=\"Distance à la capitale économique\",frame = T, credits = \"Source : EE CIST 2025\")\n\nmf_map(map_don, type=\"choro\", var=\"distcappol\",\n       pal = mypal, breaks=mybreaks,\n       leg_title = \"en km\",leg_val_rnd = 0)\nmf_layout(title=\"Distance à la capitale politique\",frame = T, credits = \"Source : EE CIST 2025\")\n\n\n\n\n\n\n\nRelation entre développement et distance à la capitale\n\nConsigne : Etudiez les corrélations entre l’IDH en 1992 (Y1) ou 2022 (Y2) et la distance à la capitale économique (X1) ou politique (X2). Que pouvez-vous en conclure ?\n\n\n\nCode\nX1&lt;-map_don$distcapeco\nX2&lt;-map_don$distcappol\nY1&lt;-map_don$idh1992\nY2&lt;-map_don$idh2022\n\npar(mfrow=c(2,2))\nplot(X1,Y1,main=\"Distance à Abidjan 1992\", sub = round(cor(X1,Y1),3), pch=20)\nabline(lm(Y1~X1),col=\"red\")\nplot(X2,Y1, main = \"Distance à Yamoussoukro 1992\",sub = round(cor(X2,Y1),3),pch=20)\nabline(lm(Y1~X2),col=\"red\")\nplot(X1,Y2,main=\"Distance à Abidjan 2022\", sub = round(cor(X1,Y2),3), pch=20)\nabline(lm(Y2~X1),col=\"red\")\nplot(X2,Y2, main = \"Distance à Yamoussoukro 2022\",sub = round(cor(X2,Y2),3),pch=20)\nabline(lm(Y2~X2),col=\"red\")"
  },
  {
    "objectID": "Access.html",
    "href": "Access.html",
    "title": "OBJECTIF 3 : Accessibilité avec R et Open Street Map",
    "section": "",
    "text": "Reprenant un cours dispensé lors de l’école d’été CIST 2023 au Bénin par C. Grasland et B. Vakaramoko et intitulé Distance et accessibilité, nous voudrions montrer lors de l’école d’été Afromap’R 2025 quelques exemples d’utilisation de la base de données OSRM et du package R correspondant pour effectuer des calculs de distance routière ou de distance-temps.\nLes mesures de distance sont intéressantes en elle-même pour comparer les régions les plus accessibles ou les moins accessibles d’un territoire. Mais elles sont également utiles comme variables explicatives d’autres phénomènes de nature sociale ou économique. On peut par exemple mettre en rapport la distance à une capitale nationale ou un chef-lieu de région avec le niveau de développement d’une commune."
  },
  {
    "objectID": "Access.html#le-projet-osrm",
    "href": "Access.html#le-projet-osrm",
    "title": "OBJECTIF 3 : Accessibilité avec R et Open Street Map",
    "section": "(1) LE PROJET OSRM",
    "text": "(1) LE PROJET OSRM\nLe projet OSRM (Open SOurce Routing Machine) est un service de routage utilisant les données d’OpenStreetMap (OSM). Le package permet de calculer des routes, des matrices de distances, des isochrones en utilisant s’appuyant sur le réseau routier d’OSM. Il est accessible en ligne sur le site web suivant\nhttps://project-osrm.org/\nLe package R OSRM est une interface créée par Timothée Giraud, Robin Cura, Matthieu Viry et Robin Lovelace qui permet d’accéder à l’API OSRM depuis un programme R et ainsi d’effectuer automatiquement les calculs précédents. Il est accessible sur le CRAN et possède une documentation avec des exemples :\nhttps://cran.r-project.org/web/packages/osrm/index.html\nLa dernière version d’OSRM a fait l’objet de révisions importantes par Timothée Giraud et qui a publié récemment un article à ce sujet dans JOSS qui est la revue de référence pour les package R.\n\nGiraud, Timothée. 2022. “osrm: Interface Between R and the OpenStreetMap-Based Routing Service OSRM.” Journal of Open Source Software 7 (78): 4574. https://doi.org/10.21105/joss.04574.\n\nL’objectif de l’exercice proposé lors de l’école d’été CIST2023 était d’essayer d’appliquer ce package ORSM au calcul des distances entre les chefs-lieux des 14 districts de Côte d’Ivoire, afin de vérifier si les résultats obtenus sont approximativement justes et ne comportent pas trop d’erreur. Il est en effet possible que l’analyse souffre de problèmes lorsque la couverture OSM n’est pas complète ou de qualité insuffisante."
  },
  {
    "objectID": "Access.html#preparation-des-donnees",
    "href": "Access.html#preparation-des-donnees",
    "title": "OBJECTIF 3 : Accessibilité avec R et Open Street Map",
    "section": "(2) PREPARATION DES DONNEES",
    "text": "(2) PREPARATION DES DONNEES\n\nDonnées géométriques\nNous utiliserons trois fonds de cartes de type shapefile (enregistrés au format sf de R dans des fichiers de type .RDS) qui servent uniquement ici à repérer les positions des points ou à cartographier les résultats des analyses. Il s’agit :\n\ndu contour des 14 districts (source : OCHA)\ndu contour des 33 régions (source : OCHA)\ndes routes principales (source : OSM & OCHA)\n\nAprès chargement, on projette les fonds en EPSG 2043 pour avoir des coordonnées en kilomètres adaptées à la Côte d’Ivoire.\n\n\nCode\n# Contour du pays\nmap_state&lt;-readRDS(file =\"data/exo_access/CIV.RDS\")\nmap_state_proj&lt;-st_transform(map_state, crs = 2043)\n\n# Districts\nmap_districts&lt;-readRDS(file = \"data/exo_access/CIV_DISTRICTS.RDS\")\nmap_districts_proj&lt;-st_transform(map_districts, crs = 2043)\n\n# Regions\nmap_regions&lt;-readRDS(file = \"data/exo_access/CIV_REGIONS.RDS\")\nmap_regions_proj&lt;-st_transform(map_regions, crs = 2043)\n\n# Routes (sélection des niveaux 1 et 2)\nmap_roads&lt;-readRDS(file = \"data/exo_access/CIV_ROADS.RDS\") %&gt;% filter(highway !=\"tertiary\")\nmap_roads$niveau &lt;-as.factor(map_roads$highway)\nlevels(map_roads$niveau)&lt;-c(\"Autoroute\",\"niveau 1\", \"niveau 2\", \"niveau 1\")\nmap_roads$size&lt;-4-as.numeric(map_roads$niveau)\nmap_roads&lt;-map_roads %&gt;% arrange(size)\nmap_roads_proj&lt;-st_transform(map_roads, crs = 2043)\n\n\nOn peut en proposer une visualisation statique à l’aide du package mapsf :\n\n\nCode\nmf_theme(x = \"agolalight\")\nmf_map(map_regions_proj,col=\"gray90\",border=\"gray50\",lwd=0.5)\n\nmf_map(map_districts_proj,\n       col=NA,\n       border=\"black\",\n       lwd=2,add=T)\n\nmf_map(map_roads_proj,\n       type = \"typo\",\n       var = \"niveau\",\n       lwd= map_roads_proj$size,\n       pal=c(\"red\",\"orange\",\"yellow\"),\n       add=T,\n       leg_title = \"Niveau des routes\")\n\nmf_label(map_districts_proj,\n         var = \"DIS_NOM\",\n         col = \"blue\",cex = 0.5)\n\nmf_layout(title = \"Le réseau routier de Côte d'Ivoire (source : OSM)\",\n          credits = \"Grasland C. & Vakaramoko B., EE CIST 2023\",\n          frame = T,scale = T, arrow = T)\n\n\n\n\n\n\n\nPosition des centroïdes des districts\nLe calcul du centroïde des régions ou des districts est possible dans R avec la fonction st_centroid() du package sf. Il conduit à placer des points à un emplacement différent de celui des chef-lieux administratifs puisque ces derniers ne sont pas forcément situé au centre géométrique de leur unité administrative. Du coup les points correspondant aux centroïdes risquent d’être situés à l’écart du réseau routier ce qui va conduire à des erreurs de calcul lorsqu’on voudra estimer les distances. Par exemple, le centroïde du district de Woroba ne se situe pas sur une route principale ou même secondaire.Quand au centroïde du district de la vallée du Bandama, il est bien sur une route mais très au nord du chef-lieu de Bouaké qui est un véritable carrefour routier vers l’ensemble du pays.\n\n\nCode\nmap_districts_ctr &lt;- st_centroid(map_districts,of_largest_polygon = T, quiet=T)\nmap_districts_ctr_proj &lt;- st_transform(map_districts_ctr, crs = 2043)\n\nmf_theme(x = \"agolalight\")\n\nmf_map(map_districts_proj,\n       col=\"gray90\",\n       border=\"gray50\",\n       lwd=2)\n\nmf_map(map_roads_proj,\n       var = \"niveau\",\n       lwd= map_roads_proj$size,\n       col=\"yellow\",\n       add=T)\n\nmf_map(map_districts_ctr_proj,\n       pch= 20,\n       col=\"red\",\n       border=\"yellow\",\n       lwd=1,\n       cex = 1.3,\n       add=T)\n\nmf_label(map_districts_ctr_proj,\n         var = \"DIS_NOM\",\n         col = \"black\",cex = 0.5,overlap = F)\n\n\nmf_layout(title = \"Position des centroïdes des districts de Côte d'Ivoire\",\n          credits =\"Grasland C. & Vakaramoko B., EE CIST 2023\",\n          frame = T,scale = T, arrow = T)\n\n\n\n\n\n\n\nImportation ou saisie des coordonnées des chefs-lieux de district\nPour obtenir des distances plus pertinentes, nous devons donc importer les coordonnées de longitude et de latitude des chef-lieux de districts entre lesquelles on souhaite mesurer des distances routières. Nous disposons pour cela de deux solutions :\n\nUtiliser Google Maps ou Open Street Map pour repérer un point central dans les villes et en extraire les coordonnées. On choisira de préférence un point situé sur une route principale ou mieux encore un carrefour routier du centre-ville. Ainsi à Abidjan, on peut choisir le point situé Boulevard de la République face au palais présidentiel dont les coordonnées sont 5.3274 de latitude Nord et -4.0204 de longitude. Il est essentiel de disposer de coordonnées non projetées (EPSG 4326) pour pouvoir ensuite effectuer les calculs de distance.\nUtiliser la base Africapolis qui fournit pour chaque agglomération les coordonnées de latitude et longitude du centroïde de la zone bâtie correspondant à l’extension spatiale de la ville. On ne va pas nécessairement sur un bâtiment remarquable, mais comme on se trouve à l’intérieur de la ville, il y a peu de chances de tomber dans une zone éloignée d’une route et l’erreur de calcul sera faible, surtout dans le cas des petites villes. Cette solution donne de bons résultats dans le cas de la Côte d’Ivoir où nous avons juste été obligé de corriger le point central retenu pour Abidjan.\n\n\n\nCode\ncoo &lt;-read.table(file = \"data/exo_access/DIS_CHEF.csv\", header=T, sep=\";\", dec=\",\") \nkable(coo,caption = \"Coordonnées des chefs lieux de districts de Côte d'Ivoire\")\n\n\n\nCoordonnées des chefs lieux de districts de Côte d’Ivoire\n\n\nDIS_CODE\nDIS_NOM\nDIS_CTR\nDIS_CTR_LON\nDIS_CTR_LAT\n\n\n\n\nCI.CM\nComoé\nAbengourou\n-3.49700\n6.74000\n\n\nCI.AB\nAbidjan\nAbidjan\n-4.02044\n5.32374\n\n\nCI.ZZ\nZanzan\nBondoukou\n-2.80300\n8.03900\n\n\nCI.VB\nVallée du Bandama\nBouaké\n-5.05000\n7.69800\n\n\nCI.LG\nLagunes\nDabou\n-4.37800\n5.32000\n\n\nCI.SM\nSassandra-Marahoué\nDaloa\n-6.45500\n6.87600\n\n\nCI.LC\nLacs\nDimbokro\n-4.70700\n6.65300\n\n\nCI.GD\nGôh-Djiboua\nGagnoa\n-5.95900\n6.13300\n\n\nCI.SV\nSavanes\nKorhogo\n-5.63100\n9.46200\n\n\nCI.MG\nMontagnes\nMan\n-7.54800\n7.40300\n\n\nCI.DN\nDenguélé\nOdienné\n-7.56400\n9.50300\n\n\nCI.BS\nBas-Sassandra\nSan-Pédro\n-6.67000\n4.75600\n\n\nCI.WR\nWoroba\nSéguéla\n-6.67300\n7.96300\n\n\nCI.YM\nYamoussoukro\nYamoussoukro\n-5.26300\n6.80700\n\n\n\n\n\nA la différence des centroïdes,les chefs lieux de régions se superposent parfaitement sur le réseau routier dont ils constituent logiquement les principaux carrefours :\n\n\nCode\nmap_districts_chef &lt;- st_as_sf(coo, coords = c(\"DIS_CTR_LON\",\"DIS_CTR_LAT\"))\nst_crs(map_districts_chef)&lt;-4326\nmap_districts_chef_proj &lt;- st_transform(map_districts_chef, crs = 2043)\n\n\nmf_theme(x = \"agolalight\")\n\nmf_map(map_districts_proj,\n       col=\"gray90\",\n       border=\"gray50\",\n       lwd=2)\n\nmf_map(map_roads_proj,\n       var = \"niveau\",\n       lwd= map_roads_proj$size,\n       col=\"yellow\",\n       add=T)\n\nmf_map(map_districts_chef_proj,\n       pch= 20,\n       col=\"red\",\n       border=\"yellow\",\n       lwd=1,\n       cex = 1.3,\n       add=T)\n\nmf_label(map_districts_chef_proj,\n         var = \"DIS_CTR\",\n         col = \"black\",cex = 0.5, overlap = F)\n\n\nmf_layout(title = \"Position des villes chef-lieux des districts de Côte d'Ivoire\",\n          credits = \"Grasland C. & Vakaramoko B., EE CIST 2023\",\n          frame = T,scale = T, arrow = T)\n\n\n\n\n\n\n\nSauvegarde des fichiers\nNous sauvegardons les nouveaux fichiers créés au cours de cette étape sous deux formes différentes : en coordonnées latitude longitude (EPSG 4326) et en coordonnées projetées (EPSG 2043).\n\n\nCode\nsaveRDS(map_districts_ctr,\"data/exo_access/CIV_DISTRICTS_CTR_4326.RDS\")\nsaveRDS(map_districts_ctr_proj,\"CIV/CIV_DISTRICTS_CTR_2043.RDS\")\n\nsaveRDS(map_districts_chef,\"data/exo_access/CIV_DISTRICTS_CHEF_4326.RDS\")\nsaveRDS(map_districts_chef_proj,\"data/exo_access/CIV_DISTRICTS_CHEF_2043.RDS\")\n\nsaveRDS(map_roads,\"data/exo_access/CIV_ROADS_4326.RDS\")\nsaveRDS(map_roads_proj,\"data/exo_access/CIV_ROADS_2043.RDS\")"
  },
  {
    "objectID": "Access.html#calcul-de-matrices-de-distance",
    "href": "Access.html#calcul-de-matrices-de-distance",
    "title": "OBJECTIF 3 : Accessibilité avec R et Open Street Map",
    "section": "(3) CALCUL DE MATRICES DE DISTANCE",
    "text": "(3) CALCUL DE MATRICES DE DISTANCE\n\nCalcul des distances à vol d’oiseau\nLe calcul des distances à vol d’oiseau (à la surface de la Terre) s’effectue très facilement à l’aide de la fonction st_distance() du package sf. Il faut juste faire attention à bientransformer le tableau obtenu en matrice avec la fonction class() puis à rajouter les noms de lignes et de colonnes.\n\n\nCode\ndist_eu&lt;-as.matrix(st_distance(map_districts_chef))/1000\nclass(dist_eu)&lt;-\"matrix\"\nrow.names(dist_eu)&lt;-map_districts$DIS_CTR\ncolnames(dist_eu)&lt;-substr(map_districts$DIS_CTR,1,3)\nkable(dist_eu, digits=0, caption=\"Distance à vol d'oiseau entre chefs-lieux de districts de Côte d'Ivoire\")\n\n\n\nDistance à vol d’oiseau entre chefs-lieux de districts de Côte d’Ivoire\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAbi\nSan\nAbe\nOdi\nGag\nDim\nDab\nMan\nDal\nKor\nBou\nSég\nYam\nBon\n\n\n\n\nAbidjan\n0\n168\n163\n202\n186\n327\n134\n280\n383\n453\n543\n415\n376\n195\n\n\nSan-Pédro\n168\n0\n331\n287\n40\n320\n166\n233\n493\n453\n607\n300\n415\n215\n\n\nAbengourou\n163\n331\n0\n250\n349\n423\n260\n408\n349\n528\n548\n562\n426\n304\n\n\nOdienné\n202\n287\n250\n0\n275\n180\n122\n201\n206\n277\n342\n373\n181\n102\n\n\nGagnoa\n186\n40\n349\n275\n0\n288\n153\n197\n481\n420\n583\n262\n388\n192\n\n\nDimbokro\n327\n320\n423\n180\n288\n0\n195\n99\n302\n134\n317\n237\n123\n132\n\n\nDabou\n134\n166\n260\n122\n153\n195\n0\n150\n328\n324\n446\n303\n261\n64\n\n\nMan\n280\n233\n408\n201\n197\n99\n150\n0\n372\n225\n414\n172\n218\n107\n\n\nDaloa\n383\n493\n349\n206\n481\n302\n328\n372\n0\n311\n212\n536\n202\n298\n\n\nKorhogo\n453\n453\n528\n277\n420\n134\n324\n225\n311\n0\n234\n310\n115\n261\n\n\nBouaké\n543\n607\n548\n342\n583\n317\n446\n414\n212\n234\n0\n537\n197\n392\n\n\nSéguéla\n415\n300\n562\n373\n262\n237\n303\n172\n536\n310\n537\n0\n357\n276\n\n\nYamoussoukro\n376\n415\n426\n181\n388\n123\n261\n218\n202\n115\n197\n357\n0\n202\n\n\nBondoukou\n195\n215\n304\n102\n192\n132\n64\n107\n298\n261\n392\n276\n202\n0\n\n\n\n\n\n\n\nCalcul de matrices de distance et temps routier avec osrmTable()\nLa fonction demande les coordonnées de latitue et longitude des lieux pour lesquels on veut calculer les distances routières. On peut les fournir via un tableau (data.frame) ou via un objet de type spatial feature (sf) à condition que ce dernier soit en projection ESPG 4326 (c’est-à-dire non projeté). Voyons ici le premier cas à titre d’exemple :\nOn prépare un data.frame ne contenant que les coordonnées de longitude (en première colonne) et latitude (en deuxième colonne). Le nom des colonnes n’a pas d’importance mais il faut qu’il y en ait exactement deux et que la première corresponde bien aux longitudes et la seconde aux latitudes (en degrés décimaux). Il est en revanche important d’ajouter des noms de lignes au tableau pour pouvoir les retouver sur les marges de la matrice de distance.\n\n\nCode\ndis_chef&lt;-read.table(\"data/exo_access/DIS_CHEF.csv\", header=T, sep=\";\", dec=\",\")\ncoo&lt;-dis_chef[,4:5]\nrow.names(coo)&lt;-dis_chef$DIS_CTR\nkable(coo,caption = \"Fichier de coordonnées pour osrm (type data.frame ou matrix)\")\n\n\n\nFichier de coordonnées pour osrm (type data.frame ou matrix)\n\n\n\nDIS_CTR_LON\nDIS_CTR_LAT\n\n\n\n\nAbengourou\n-3.49700\n6.74000\n\n\nAbidjan\n-4.02044\n5.32374\n\n\nBondoukou\n-2.80300\n8.03900\n\n\nBouaké\n-5.05000\n7.69800\n\n\nDabou\n-4.37800\n5.32000\n\n\nDaloa\n-6.45500\n6.87600\n\n\nDimbokro\n-4.70700\n6.65300\n\n\nGagnoa\n-5.95900\n6.13300\n\n\nKorhogo\n-5.63100\n9.46200\n\n\nMan\n-7.54800\n7.40300\n\n\nOdienné\n-7.56400\n9.50300\n\n\nSan-Pédro\n-6.67000\n4.75600\n\n\nSéguéla\n-6.67300\n7.96300\n\n\nYamoussoukro\n-5.26300\n6.80700\n\n\n\n\n\nOn peut alors effectuer le calcul de la matrice de distance routière soit en temps (“duration”), soit en kilomètre (“distance”) soit les deux à la fois (solution la plus simple). On récupère une liste qui comporte les deux matrices de distance ainsi que les coordonnées d’origine et de destination des lieux entr lesquels on a calculé les distances. Les temps routiers sont en minutes et les distances routières en mètres.\n\n\nCode\ndist &lt;- osrmTable(coo, measure = c(\"duration\", \"distance\"))\n\n\nOn procède ensuite à l’extraction des résultats sous la forme de matrices que l’on peut exprimer dans une autre unité de mesure (par exemple convertir les mètres en kilomètres). On en profite pour les symétriser car il peut arriver que la distance soit légèrement plus grande dans une des deux directions\n\n\nCode\ndist_km &lt;- as.matrix(dist$distances)/1000\ndist_km&lt;-(dist_km+t(dist_km))/2\nkable(dist_km, \n      caption=\"Distance routière entre chefs-lieux de districts de Côte d'Ivoire (en km)\", \n      digits=0,\n      col.names = substr(colnames(dist_km),1,3))\n\n\n\nDistance routière entre chefs-lieux de districts de Côte d’Ivoire (en km)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAbe\nAbi\nBon\nBou\nDab\nDal\nDim\nGag\nKor\nMan\nOdi\nSan\nSég\nYam\n\n\n\n\nAbengourou\n0\n205\n196\n291\n235\n385\n161\n324\n506\n571\n738\n523\n510\n242\n\n\nAbidjan\n205\n0\n398\n347\n47\n378\n236\n273\n563\n564\n795\n334\n503\n235\n\n\nBondoukou\n196\n398\n0\n405\n429\n578\n355\n517\n521\n765\n753\n716\n596\n435\n\n\nBouaké\n291\n347\n405\n0\n331\n247\n193\n250\n222\n329\n454\n480\n193\n113\n\n\nDabou\n235\n47\n429\n331\n0\n361\n220\n238\n547\n547\n778\n288\n486\n218\n\n\nDaloa\n385\n378\n578\n247\n361\n0\n224\n137\n463\n188\n374\n266\n129\n144\n\n\nDimbokro\n161\n236\n355\n193\n220\n224\n0\n163\n410\n410\n641\n391\n349\n81\n\n\nGagnoa\n324\n273\n517\n250\n238\n137\n163\n0\n467\n275\n536\n231\n264\n141\n\n\nKorhogo\n506\n563\n521\n222\n547\n463\n410\n467\n0\n431\n233\n697\n294\n330\n\n\nMan\n571\n564\n765\n329\n547\n188\n410\n275\n431\n0\n264\n404\n136\n330\n\n\nOdienné\n738\n795\n753\n454\n778\n374\n641\n536\n233\n264\n0\n666\n246\n561\n\n\nSan-Pédro\n523\n334\n716\n480\n288\n266\n391\n231\n697\n404\n666\n0\n394\n389\n\n\nSéguéla\n510\n503\n596\n193\n486\n129\n349\n264\n294\n136\n246\n394\n0\n269\n\n\nYamoussoukro\n242\n235\n435\n113\n218\n144\n81\n141\n330\n330\n561\n389\n269\n0\n\n\n\n\n\nCode\ndist_mn &lt;- as.matrix(dist$durations)\ndist_mn&lt;-(dist_mn+t(dist_mn))/2\nkable(dist_mn, \n      caption=\"Temps routier entre chefs-lieux de districts de Côte d'Ivoire (en minutes)\", \n      digits=0,\n      col.names = substr(colnames(dist_km),1,3))\n\n\n\nTemps routier entre chefs-lieux de districts de Côte d’Ivoire (en minutes)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAbe\nAbi\nBon\nBou\nDab\nDal\nDim\nGag\nKor\nMan\nOdi\nSan\nSég\nYam\n\n\n\n\nAbengourou\n0\n194\n191\n296\n222\n364\n159\n311\n459\n555\n672\n488\n478\n227\n\n\nAbidjan\n194\n0\n381\n251\n48\n302\n174\n235\n413\n493\n626\n314\n416\n165\n\n\nBondoukou\n191\n381\n0\n409\n408\n550\n346\n498\n494\n742\n708\n675\n634\n414\n\n\nBouaké\n296\n251\n409\n0\n260\n216\n156\n228\n187\n400\n400\n435\n246\n87\n\n\nDabou\n222\n48\n408\n260\n0\n312\n184\n241\n423\n503\n636\n269\n426\n175\n\n\nDaloa\n364\n302\n550\n216\n312\n0\n207\n137\n379\n195\n399\n244\n121\n138\n\n\nDimbokro\n159\n174\n346\n156\n184\n207\n0\n155\n318\n398\n531\n358\n321\n70\n\n\nGagnoa\n311\n235\n498\n228\n241\n137\n155\n0\n391\n286\n526\n211\n254\n146\n\n\nKorhogo\n459\n413\n494\n187\n423\n379\n318\n391\n0\n428\n216\n597\n273\n250\n\n\nMan\n555\n493\n742\n400\n503\n195\n398\n286\n428\n0\n246\n393\n156\n330\n\n\nOdienné\n672\n626\n708\n400\n636\n399\n531\n526\n216\n246\n0\n633\n279\n463\n\n\nSan-Pédro\n488\n314\n675\n435\n269\n244\n358\n211\n597\n393\n633\n0\n361\n350\n\n\nSéguéla\n478\n416\n634\n246\n426\n121\n321\n254\n273\n156\n279\n361\n0\n252\n\n\nYamoussoukro\n227\n165\n414\n87\n175\n138\n70\n146\n250\n330\n463\n350\n252\n0\n\n\n\n\n\n\n\nIndices d’accessibilité\nOn peut résumer chacune de nos trois matrices à l’aide d’indices d’accessibilité.\n\nAccessibilité moyenne\n\n\nCode\ndist_eu_mean &lt;- apply(dist_eu,1,mean)\ndist_km_mean &lt;- apply(dist_km, 1,mean)\ndist_mn_mean &lt;- apply(dist_mn, 1,mean)\ntab&lt;-data.frame(dist_eu_mean, dist_km_mean,dist_mn_mean)\nkable(tab, \n      caption = \"Accessibilité moyenne des chefs-lieux de Côte d'Ivoire\",\n      col.names = c(\"Km à vol d'oiseau\", \"Km par la route\", \"Temps par la route\"),\n      digits=0)\n\n\n\nAccessibilité moyenne des chefs-lieux de Côte d’Ivoire\n\n\n\nKm à vol d’oiseau\nKm par la route\nTemps par la route\n\n\n\n\nAbidjan\n273\n349\n330\n\n\nSan-Pédro\n288\n348\n287\n\n\nAbengourou\n350\n476\n461\n\n\nOdienné\n214\n275\n255\n\n\nGagnoa\n272\n337\n293\n\n\nDimbokro\n220\n277\n255\n\n\nDabou\n208\n274\n241\n\n\nMan\n220\n272\n258\n\n\nDaloa\n320\n406\n345\n\n\nKorhogo\n289\n373\n366\n\n\nBouaké\n384\n503\n453\n\n\nSéguéla\n331\n413\n381\n\n\nYamoussoukro\n247\n312\n301\n\n\nBondoukou\n196\n249\n219\n\n\n\n\n\n\n\nAccessibilité moyenne pondérée\n\n\nCode\ndist_eu_mean &lt;- apply(dist_eu,1,mean)\ndist_km_mean &lt;- apply(dist_km, 1,mean)\ndist_mn_mean &lt;- apply(dist_mn, 1,mean)\ntab&lt;-data.frame(dist_eu_mean, dist_km_mean,dist_mn_mean)\nkable(tab, \n      caption = \"Accessibilité moyenne des chefs-lieux de Côte d'Ivoire\",\n      col.names = c(\"Km à vol d'oiseau\", \"Km par la route\", \"Temps par la route\"),\n      digits=0)\n\n\n\nAccessibilité moyenne des chefs-lieux de Côte d’Ivoire\n\n\n\nKm à vol d’oiseau\nKm par la route\nTemps par la route\n\n\n\n\nAbidjan\n273\n349\n330\n\n\nSan-Pédro\n288\n348\n287\n\n\nAbengourou\n350\n476\n461\n\n\nOdienné\n214\n275\n255\n\n\nGagnoa\n272\n337\n293\n\n\nDimbokro\n220\n277\n255\n\n\nDabou\n208\n274\n241\n\n\nMan\n220\n272\n258\n\n\nDaloa\n320\n406\n345\n\n\nKorhogo\n289\n373\n366\n\n\nBouaké\n384\n503\n453\n\n\nSéguéla\n331\n413\n381\n\n\nYamoussoukro\n247\n312\n301\n\n\nBondoukou\n196\n249\n219\n\n\n\n\n\nLes matrices (quand elles ne sont pas trop grandes) sont des objets assez pratiques pour effectuer des calculs dans R et offrent des possibilités différentes de celles des data.frame. On peut par exemple diviser nos deux matrices l’une par l’autre afin de calculer la vitesse moyenne de circulation entre deux chefs-lieux :\n\n\nCode\ndist_ho &lt;- dist_mn / 60\ndist_km_ho &lt;-dist_km / dist_ho\ndiag(dist_km_ho)&lt;-NA\nkable(dist_km_ho, \n      caption = \"Vitesse de circulation routière entre chefs-lieux de Côte d'Ivoire (en km/h)\", \n      digits = 0,\n      col.names = substr(colnames(dist_km_ho),1,3))\n\n\n\nVitesse de circulation routière entre chefs-lieux de Côte d’Ivoire (en km/h)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAbe\nAbi\nBon\nBou\nDab\nDal\nDim\nGag\nKor\nMan\nOdi\nSan\nSég\nYam\n\n\n\n\nAbengourou\nNA\n63\n61\n59\n64\n64\n61\n62\n66\n62\n66\n64\n64\n64\n\n\nAbidjan\n63\nNA\n63\n83\n58\n75\n81\n70\n82\n69\n76\n64\n73\n85\n\n\nBondoukou\n61\n63\nNA\n59\n63\n63\n62\n62\n63\n62\n64\n64\n56\n63\n\n\nBouaké\n59\n83\n59\nNA\n76\n68\n75\n66\n71\n49\n68\n66\n47\n78\n\n\nDabou\n64\n58\n63\n76\nNA\n70\n72\n59\n78\n65\n73\n64\n69\n75\n\n\nDaloa\n64\n75\n63\n68\n70\nNA\n65\n60\n73\n58\n56\n66\n64\n62\n\n\nDimbokro\n61\n81\n62\n75\n72\n65\nNA\n63\n77\n62\n72\n65\n65\n69\n\n\nGagnoa\n62\n70\n62\n66\n59\n60\n63\nNA\n72\n58\n61\n66\n62\n58\n\n\nKorhogo\n66\n82\n63\n71\n78\n73\n77\n72\nNA\n60\n65\n70\n65\n79\n\n\nMan\n62\n69\n62\n49\n65\n58\n62\n58\n60\nNA\n64\n62\n53\n60\n\n\nOdienné\n66\n76\n64\n68\n73\n56\n72\n61\n65\n64\nNA\n63\n53\n73\n\n\nSan-Pédro\n64\n64\n64\n66\n64\n66\n65\n66\n70\n62\n63\nNA\n65\n67\n\n\nSéguéla\n64\n73\n56\n47\n69\n64\n65\n62\n65\n53\n53\n65\nNA\n64\n\n\nYamoussoukro\n64\n85\n63\n78\n75\n62\n69\n58\n79\n60\n73\n67\n64\nNA\n\n\n\n\n\nOn peut également effectuer des calculs rapides sur les lignes ou les colonnes de la matrice et ainsi produire les mesures d’accessibilité vues en cours. On se sert par exemple pour cela de la fonction apply() de R-base.\n\n\nCode\ndist_km_mean &lt;- apply(dist_km, 1,mean)\ndist_km_max &lt;- apply(dist_km, 1,max)\ndist_mn_mean &lt;- apply(dist_mn, 1,mean)\ndist_mn_max &lt;- apply(dist_mn, 1,max)\ntab&lt;-data.frame(dist_km_mean,dist_km_max,dist_mn_mean,dist_mn_max)\ntab$dist_km_ho_mean&lt;-dist_km_mean/(dist_mn_mean/60)\nkable(tab, \n      caption = \"Indices d'accessibilité routière des chefs-lieux de Côte d'Ivoire\",\n      digits=0)\n\n\n\nIndices d’accessibilité routière des chefs-lieux de Côte d’Ivoire\n\n\n\n\n\n\n\n\n\n\n\ndist_km_mean\ndist_km_max\ndist_mn_mean\ndist_mn_max\ndist_km_ho_mean\n\n\n\n\nAbengourou\n349\n738\n330\n672\n64\n\n\nAbidjan\n348\n795\n287\n626\n73\n\n\nBondoukou\n476\n765\n461\n742\n62\n\n\nBouaké\n275\n480\n255\n435\n65\n\n\nDabou\n337\n778\n293\n636\n69\n\n\nDaloa\n277\n578\n255\n550\n65\n\n\nDimbokro\n274\n641\n241\n531\n68\n\n\nGagnoa\n272\n536\n258\n526\n63\n\n\nKorhogo\n406\n697\n345\n597\n71\n\n\nMan\n373\n765\n366\n742\n61\n\n\nOdienné\n503\n795\n453\n708\n67\n\n\nSan-Pédro\n413\n716\n381\n675\n65\n\n\nSéguéla\n312\n596\n301\n634\n62\n\n\nYamoussoukro\n249\n561\n219\n463\n68\n\n\n\n\n\n\nAccessiblité en km : d’après notre tableau (colonne dist_km_mean) c’est Yamoussoukro qui est la ville la plus accessible avec une distance moyenne de 247 km aux chefs-lieux de Côte d’Ivoire. Odienné est la ville la moins accessible avec une distance moyenne de 508 km.\nAccessiblité en temps : d’après notre tableau (colonne dist_mn_mean) c’est toujours Yamoussoukro qui est la ville la plus accessible avec un temps moyen de 212 minutes (soit environ 3 heures et demi) pour rejoindre les chefs-lieux de Côte d’Ivoire. Bondioukou est la ville la moins accessible avec un temps moyen de 463 minutes (soit un peu moins de huit heures).\nEquité en km : dans une logique d’équité (faire en sorte que le plus défavorisé soit le moins défavorisé possible), la ville la plus équitable est celle où la distance maximum est la plus faible. Il s’agit dans ce cas de Bouaké dont la distance maximale à un autre chef-lieu est de 473 km. Les localisation les moins équitables seraient Abidjan ou Odienné qui sont les deux centre les plus éloignés (794 km).\nEquité en temps : dans une logique d’équité mesurée en temps, Bouaké demeure la meilleure option avec une durée de parcours maximale de 427 mn (soit environ 7 heures). Les localisations les moins équitables seraient désormais Bondoukou ou Odienné qui sont éloigénes de 750 mn (soit près de 13 heures).\nVitesse : dans une logique de vitesse de circulation (qui témoigne de la qualité des routes qui partent d’une ville), c’est Abidjan qui apparaît la mieux équipée puisque la vitesse moyenne pour rejoindre les autres villes y est de 74 km/h. La plus faible performance est pour Séguéla (61 km/h). La vitesse ne tient cependant pas compte des éventuels détours effectués par la route."
  },
  {
    "objectID": "Access.html#cartographie-disochrones",
    "href": "Access.html#cartographie-disochrones",
    "title": "OBJECTIF 3 : Accessibilité avec R et Open Street Map",
    "section": "(4) CARTOGRAPHIE D’ISOCHRONES",
    "text": "(4) CARTOGRAPHIE D’ISOCHRONES\n\nExemple de Bouaké\nOn commence par repérer les coordonnées les plus exactes possibles du marché de Bouaké en se servant par exemple de Google Maps. Puis on va utiliser soit la fonction osrmIsochrone(), soit la fonction osrmIsodistance() du package osrmpour générer des polygones correspondant aux points situés respectivement à une même distance en temps ou une même distance en kilomètres par la route.\n\n\nCode\niso_time &lt;- osrmIsochrone(loc = c(-5.02483,7.69714),\n                                 breaks = c(0,30,60,90,120,150,180, 210, 240)\n                                 )\niso_time$isomean=(iso_time$isomin+iso_time$isomax)/120\niso_time_proj&lt;-st_transform(iso_time, crs=2043)\n\n\niso_dist &lt;- osrmIsodistance(loc = c(-5.02483,7.69714),\n                                 breaks = c(0,30000,60000,90000,120000,150000, 180000, 210000, 240000))\niso_dist$isomean=(iso_dist$isomin+iso_dist$isomax)/2000\niso_dist_proj&lt;-st_transform(iso_dist, crs=2043)\n\n\nOn peut maintenant tracer deux cartes d’isolignes, l’une correspondant aux temps et l’autre aux distances :\n\n\nCode\npng(\"data/exo_access/bouake.png\", width=1000, height=500)\npar(mfrow=c(1,2))\n### Distance kilométrique\nmf_theme(x = \"agolalight\")\n\nmf_map(map_districts_proj,\n       col=\"gray90\",\n       border=\"gray50\",\n       lwd=1)\n\n\nmf_map(iso_dist_proj,\n       type=\"choro\",\n       var=\"isomean\",\n       nbreaks=8,\n       leg_title = \"distance (km)\",\n       leg_val_rnd = 0,\n      border=NA,\n       add=T)\n\nmf_map(map_districts_proj,\n       col=NA,\n       border=\"gray50\",\n       lwd=1,\n       add=T)\n\nmf_map(map_roads_proj,\n       var = \"niveau\",\n       lwd= map_roads_proj$size,\n       col=\"yellow\",\n       add=T)\n\nmf_map(map_districts_chef_proj,\n       pch= 20,\n       col=\"red\",\n       border=\"yellow\",\n       lwd=1,\n       cex = 1.3,\n       add=T)\n\nmf_label(map_districts_chef_proj,\n         var = \"DIS_CTR\",\n         col = \"black\",cex = 0.5, overlap = F)\n\n\nmf_layout(title = \"Distance kilométrique \",\n          credits = \"Grasland C. & Vakaramoko B., EE CIST 2023\",\n          frame = T,scale = T, arrow = F)\n            \n\n\n#### Distance temps\nmf_theme(x = \"agolalight\")\n\nmf_map(map_districts_proj,\n       col=\"gray90\",\n       border=\"gray50\",\n       lwd=1)\n\n\nmf_map(iso_time_proj,\n       type=\"choro\",\n       var=\"isomean\",\n       breaks=c(0,0.501,1.001,1.5001,2.001,2.5001,3.001,3.5001,4.001),\n   #    nbreaks=8,\n       leg_title = \"temps (heures)\",\n       leg_val_rnd = 1,\n      border=NA,\n       add=T)\n\nmf_map(map_districts_proj,\n       col=NA,\n       border=\"gray50\",\n       lwd=1,\n       add=T)\n\nmf_map(map_roads_proj,\n       var = \"niveau\",\n       lwd= map_roads_proj$size,\n       col=\"yellow\",\n       add=T)\n\nmf_map(map_districts_chef_proj,\n       pch= 20,\n       col=\"red\",\n       border=\"yellow\",\n       lwd=1,\n       cex = 1.3,\n       add=T)\n\nmf_label(map_districts_chef_proj,\n         var = \"DIS_CTR\",\n         col = \"black\",cex = 0.5, overlap = F)\n\n\nmf_layout(title = \"Distance temps \",\n          credits = \"Grasland C. & Vakaramoko B., EE CIST 2023\",\n          frame = T,scale = T, arrow = F)\n            \ndev.off()\n\n\n\n\nCommentaire : La zone accessible en mois de 240 km recouvre l’essentiel de la partie centrale du pays et affiche une forme globalement circulaire en raison de la situation de carrefour de Bouaké. Mais la zone accessible en mois de 4 h est davantage allongé dans le sens Nord-Sud en raison de la présence d’autoroutes ou de voies rapides sur l’axe Abidjan-Yamoussoukro-Korhogo. Evidemment ces calculs théoriques ne tiennent pas compte des barrages et des “corps habillés” …\n\n\n\nExemple d’Abidjan\nA titre de comparaison, on refait le même exercice pour Abidjan en prenant comme point de départ le Plateau.\n\n\nCode\niso_time &lt;- osrmIsochrone(loc = c(-4.02044,5.32374),\n                                 breaks = c(0,30,60,90,120,150,180, 210, 240)\n                                 )\niso_time$isomean=(iso_time$isomin+iso_time$isomax)/120\niso_time_proj&lt;-st_transform(iso_time, crs=2043)\n\n\niso_dist &lt;- osrmIsodistance(loc = c(-4.02044,5.32374),\n                                 breaks = c(0,30000,60000,90000,120000,150000, 180000, 210000, 240000))\niso_dist$isomean=(iso_dist$isomin+iso_dist$isomax)/2000\niso_dist_proj&lt;-st_transform(iso_dist, crs=2043)\n\n\npng(\"data/exo_access/abidjan.png\", width=1000, height=500)\npar(mfrow=c(1,2))\n### Distance kilométrique\nmf_theme(x = \"agolalight\")\n\nmf_map(map_districts_proj,\n       col=\"gray90\",\n       border=\"gray50\",\n       lwd=1)\n\n\nmf_map(iso_dist_proj,\n       type=\"choro\",\n       var=\"isomean\",\n       nbreaks=8,\n       leg_title = \"distance (km)\",\n       leg_val_rnd = 0,\n      border=NA,\n       add=T)\n\nmf_map(map_districts_proj,\n       col=NA,\n       border=\"gray50\",\n       lwd=1,\n       add=T)\n\nmf_map(map_roads_proj,\n       var = \"niveau\",\n       lwd= map_roads_proj$size,\n       col=\"yellow\",\n       add=T)\n\nmf_map(map_districts_chef_proj,\n       pch= 20,\n       col=\"red\",\n       border=\"yellow\",\n       lwd=1,\n       cex = 1.3,\n       add=T)\n\nmf_label(map_districts_chef_proj,\n         var = \"DIS_CTR\",\n         col = \"black\",cex = 0.5, overlap = F)\n\n\nmf_layout(title = \"Distance kilométrique \",\n          credits = \"Grasland C. & Vakaramoko B., EE CIST 2023\",\n          frame = T,scale = T, arrow = F)\n            \n\n\n#### Distance temps\nmf_theme(x = \"agolalight\")\n\nmf_map(map_districts_proj,\n       col=\"gray90\",\n       border=\"gray50\",\n       lwd=1)\n\n\nmf_map(iso_time_proj,\n       type=\"choro\",\n       var=\"isomean\",\n       breaks=c(0,0.501,1.001,1.5001,2.001,2.5001,3.001,3.5001,4.001),\n   #    nbreaks=8,\n       leg_title = \"temps (heures)\",\n       leg_val_rnd = 1,\n      border=NA,\n       add=T)\n\nmf_map(map_districts_proj,\n       col=NA,\n       border=\"gray50\",\n       lwd=1,\n       add=T)\n\nmf_map(map_roads_proj,\n       var = \"niveau\",\n       lwd= map_roads_proj$size,\n       col=\"yellow\",\n       add=T)\n\nmf_map(map_districts_chef_proj,\n       pch= 20,\n       col=\"red\",\n       border=\"yellow\",\n       lwd=1,\n       cex = 1.3,\n       add=T)\n\nmf_label(map_districts_chef_proj,\n         var = \"DIS_CTR\",\n         col = \"black\",cex = 0.5, overlap = F)\n\n\nmf_layout(title = \"Distance temps \",\n          credits = \"Grasland C. & Vakaramoko B., EE CIST 2023\",\n          frame = T,scale = T, arrow = F)\n            \ndev.off()          \n\n\n\n\nCommentaire : La zone accessible en moins de 240 km se limite au quart sud-ouest du pays et permet d’atteindre Yamoussoukro mais pas Bouaké. Par contre, si on raisonne en distance-temps, la zone accessible en moins de 4h s’élargit fortement en direction du Nord pour atteindre Bouaké grâce à l’autoroute.\n\n\n\nExemple d’Odienné\nOn prend maintenant le cas d’Odienné qui est l’une des villes les plus périphériques et les moins bien relié au reste du pays.\n\n\nCode\niso_time &lt;- osrmIsochrone(loc = c(-7.56400,9.50300),\n                                 breaks = c(0,30,60,90,120,150,180, 210, 240)\n                                 )\niso_time$isomean=(iso_time$isomin+iso_time$isomax)/120\niso_time_proj&lt;-st_transform(iso_time, crs=2043)\n\n\niso_dist &lt;- osrmIsodistance(loc = c(-7.56400,9.50300),\n                                 breaks = c(0,30000,60000,90000,120000,150000, 180000, 210000, 240000))\niso_dist$isomean=(iso_dist$isomin+iso_dist$isomax)/2000\niso_dist_proj&lt;-st_transform(iso_dist, crs=2043)\n\n\npng(\"data/exo_access/odienne.png\", width=1000, height=500)\npar(mfrow=c(1,2))\n### Distance kilométrique\nmf_theme(x = \"agolalight\")\n\nmf_map(map_districts_proj,\n       col=\"gray90\",\n       border=\"gray50\",\n       lwd=1)\n\n\nmf_map(iso_dist_proj,\n       type=\"choro\",\n       var=\"isomean\",\n       nbreaks=8,\n       leg_title = \"distance (km)\",\n       leg_val_rnd = 0,\n      border=NA,\n       add=T)\n\nmf_map(map_districts_proj,\n       col=NA,\n       border=\"gray50\",\n       lwd=1,\n       add=T)\n\nmf_map(map_roads_proj,\n       var = \"niveau\",\n       lwd= map_roads_proj$size,\n       col=\"yellow\",\n       add=T)\n\nmf_map(map_districts_chef_proj,\n       pch= 20,\n       col=\"red\",\n       border=\"yellow\",\n       lwd=1,\n       cex = 1.3,\n       add=T)\n\nmf_label(map_districts_chef_proj,\n         var = \"DIS_CTR\",\n         col = \"black\",cex = 0.5, overlap = F)\n\n\nmf_layout(title = \"Distance kilométrique \",\n          credits = \"Grasland C. & Vakaramoko B., EE CIST 2023\",\n          frame = T,scale = T, arrow = F)\n            \n\n\n#### Distance temps\nmf_theme(x = \"agolalight\")\n\nmf_map(map_districts_proj,\n       col=\"gray90\",\n       border=\"gray50\",\n       lwd=1)\n\n\nmf_map(iso_time_proj,\n       type=\"choro\",\n       var=\"isomean\",\n       breaks=c(0,0.501,1.001,1.5001,2.001,2.5001,3.001,3.5001,4.001),\n   #    nbreaks=8,\n       leg_title = \"temps (heures)\",\n       leg_val_rnd = 1,\n      border=NA,\n       add=T)\n\nmf_map(map_districts_proj,\n       col=NA,\n       border=\"gray50\",\n       lwd=1,\n       add=T)\n\nmf_map(map_roads_proj,\n       var = \"niveau\",\n       lwd= map_roads_proj$size,\n       col=\"yellow\",\n       add=T)\n\nmf_map(map_districts_chef_proj,\n       pch= 20,\n       col=\"red\",\n       border=\"yellow\",\n       lwd=1,\n       cex = 1.3,\n       add=T)\n\nmf_label(map_districts_chef_proj,\n         var = \"DIS_CTR\",\n         col = \"black\",cex = 0.5, overlap = F)\n\n\nmf_layout(title = \"Distance temps \",\n          credits = \"Grasland C. & Vakaramoko B., EE CIST 2023\",\n          frame = T,scale = T, arrow = F)\n            \ndev.off()            \n\n\n\n\nCommentaire : la zone accessible en 240 km ou 4h est assez réduite à l’intérieur de la Côte d’Ivoire. Toutefois, le calcul effectué par OSRM ne se limite pas aux frontières du pays et indique une accessibilité possibles de territoires voisins situés en Guinée ou au Mali."
  },
  {
    "objectID": "Access.html#conclusion",
    "href": "Access.html#conclusion",
    "title": "OBJECTIF 3 : Accessibilité avec R et Open Street Map",
    "section": "CONCLUSION",
    "text": "CONCLUSION\nL’exercice a montré que les calculs de distances routières effectuées à l’aide d’Open Street Map fournissent d’assez bonnes approximations des distances kilométriques et des distances temps. Les calculs sont certes moins précis que ceux que l’on peut effectuer en temps réel à l’aide de fournisseurs privés tels que Google Map. Mais ils fournissent des résultats libres de droits à partir d’une base de donnée mise à jour régulièrement par les citoyens du pays."
  },
  {
    "objectID": "EnquetR.html",
    "href": "EnquetR.html",
    "title": "OBJECTIF 4 : Enquêter avec R et Kobo",
    "section": "",
    "text": "L’exploitation d’enquêtes existantes ou la réalisation d’enquêtes inédites constituent un élément crucial pour l’analyse des dynamiques territoriales. A la différence des données de recensement qui mesure périodiquement l’état de la population et de la société à l’aide d’indicateurs normalisés, les enquêtes permettent de poser des questions inédites et d’apporter des informations cruciales aussi bien sur l’état de santé de la population (ex. Enquêtes DHS) que sur l’état de l’opinion publique au niveau national et international (ex. Afrobarometer). Les chercheurs sont amenés à réaliser leurs propres enquêtes de terrain avec des outils tels que Kobootolbox qui sont un élément crucial de formation pour les étudiants de niveau master ou doctorat.\nL’objectif de l’école d’été AfrimapR n’est pas d’aborder de façon exhaustive un sujet qui nécessiterait à lui seul une école d’été entière. Mais de montrer comment il est possible de réaliser des exploitations statistiques simples de données d’enquête à l’aide du logiciel R. Nous insisterons plus précisément sur la dimension spatiale des enquêtes qui est trop souvent négligée au profit d’une pure exploitation de variables sociologiques catégorielles. Cette dimension territoriale intervient en effet à la fois en amont de l’enquête pour la définition d’un plan de sondage représentatif et en aval pour mettre en évidence des effets de contexte territorial permettant de compléter ou de nuancer les explications fondés uniquement sur les déterminants individuels."
  },
  {
    "objectID": "EnquetR.html#r-et-kobo",
    "href": "EnquetR.html#r-et-kobo",
    "title": "OBJECTIF 4 : Enquêter avec R et Kobo",
    "section": "(1) R ET KOBO",
    "text": "(1) R ET KOBO\nLa plupart des utilisateurs de Kobo Tooolbox sont habitués à exporter leurs résultats sous la forme de fichiers textes (.csv) ou de fichiers excel (.xls). Mais il est également possible, lorsque les données d’enquêtes ont été géolocalisées, de les exporter sous la forme de fichiers cartographiques au format .geojson. Il est alors possible de visualiser dans R la localisation des personnes enquêtées (comme on le fait sur le site de Kobo Toolbox) mais également de procéder à des analyses statistiques et cartographiques plus originales.\nNous prenons à titre d’exemple les résultats d’une enquête réalisée dans le cadre d’un cours de Licence 3 à l’Université Paris Cité portant sur les méthodes d’entretien et de questionnaire. L’objectif était d’initier des étudiants géogrpahes français à l’usage de Kobo Toolbox en leur demandant à chacun de recueillir 10 questionnaires, 5 avec des personnes de nationalité française et 5 avec des étudiants d’autres pays. Le questionnaire comportait un nombre très limité de questions et est accessible en suivant ce lien\n\nRécupération des données\nLa lecture du fichier .geojson est effectuée très facilement à l’aide de la fonction st_read() du package sf (spatial features).\n\n\nCode\ndon&lt;-st_read(\"data/exo_kobo/kobo_student.geojson\")\n\n\nReading layer `globopi' from data source \n  `/Users/claudegrasland1/worldregio/afromapr/data/exo_kobo/kobo_student.geojson' \n  using driver `GeoJSON'\nSimple feature collection with 178 features and 22 fields\nGeometry type: POINT\nDimension:     XYZ\nBounding box:  xmin: -71.27545 ymin: 40.67344 xmax: 14.5104 ymax: 48.99118\nz_range:       zmin: 0 zmax: 150\nGeodetic CRS:  WGS 84\n\n\nLe fichier comporte 178 réponses et 23 variables. Il est de type data.frame et sf ce qui signifie que l’on peut à la fois effectuer des traitements statistiques avec les répondes et produire des cartes grâce à la colonne spéciale geometry qui indique la localisation des points d’enquête.\n\n\nSélection et recodage des variables\nOn sélectionne ici juste quelque variables pour produire un tableau simplifié donnant l’âge, le sexe et l’opinion sur la Russie, la Chine et les USA.\n\n\nCode\nsel &lt;- don %&gt;% select(usa = 6, chn = 7, rus=8, age=11, sex = 12)\n\nkable(head(sel))\n\n\n\n\n\n\n\n\n\n\n\n\n\nusa\nchn\nrus\nage\nsex\ngeometry\n\n\n\n\nPlutôt favorable\nPlutôt défavorable\nTrès défavorable\n61\nUn homme\nPOINT Z (2.381192 48.83 11.3)\n\n\nPlutôt défavorable\nPlutôt défavorable\nTrès défavorable\n19\nUne femme\nPOINT Z (2.38199 48.82968 3…\n\n\nPlutôt défavorable\nPlutôt favorable\nNe sait pas\n19\nUn homme\nPOINT Z (2.381039 48.82958 …\n\n\nTrès défavorable\nPlutôt défavorable\nNe sait pas\n19\nUne femme\nPOINT Z (2.380784 48.82907 …\n\n\nTrès défavorable\nTrès défavorable\nTrès défavorable\n23\nUne femme\nPOINT Z (2.376778 48.82988 …\n\n\nTrès défavorable\nTrès défavorable\nTrès défavorable\n23\nUne femme\nPOINT Z (2.385781 48.83361 …\n\n\n\n\n\nOn simplifie les variables en recodant les facteurs et en créant des classes d’âge. Puis on élimine les valeurs manquantes\n\n\nCode\nsel$usa &lt;-as.factor(sel$usa) \nlevels(sel$usa) &lt;- c(NA,\"Défavorable\", \"Favorable\", NA, \"Défavorable\",\"Favorable\")\n\nsel$chn &lt;-as.factor(sel$chn) \nlevels(sel$chn) &lt;- c(NA,\"Défavorable\", \"Favorable\", NA, \"Défavorable\",\"Favorable\")\n\nsel$rus &lt;-as.factor(sel$rus) \nlevels(sel$rus) &lt;- c(NA,\"Défavorable\", \"Favorable\", NA, \"Défavorable\",\"Favorable\")\n\nsel$age&lt;-as.numeric(sel$age)\nsel$age&lt;-cut(sel$age, breaks=c(0,24,100 ))\nlevels(sel$age)&lt;-c(\"- de 25 ans\", \"25 ans et +\")\n\nsel$sex&lt;-as.factor(sel$sex)\nlevels(sel$sex)&lt;-c(\"Homme\",\"Femme\")\n\nsel&lt;- na.omit(sel)\nsummary(sel)\n\n\n          usa              chn               rus               age    \n Défavorable:85   Défavorable:108   Défavorable:123   - de 25 ans:86  \n Favorable  :58   Favorable  : 35   Favorable  : 20   25 ans et +:57  \n                                                                      \n    sex              geometry  \n Homme:74   POINT Z      :143  \n Femme:69   epsg:4979    :  0  \n            +proj=long...:  0  \n\n\n\n\nLocalisation des réponses\nOn transforme les réponses en projection WGS84 (EPSG = 4326) et on visualize le résultat avec le package leaflet() en proposant une visualisation à l’échelle de la région parisienne :\n\n\nCode\nst_crs(sel)&lt;-4326\nleaflet(sel) %&gt;% addTiles() %&gt;% \n                addCircleMarkers(stroke=F,fillColor =  \"red\",fillOpacity =0.5) %&gt;% \n               setView(lng=2.383, lat= 48.829,zoom = 10)\n\n\n\n\n\n\nOu bien en proposant un zoom sur le campus de l’Université où les étudiants ont réalisé la plupart de leurs enquêtes :\n\n\nCode\nst_crs(sel)&lt;-4326\nleaflet(sel) %&gt;% addTiles() %&gt;% \n                addCircleMarkers(stroke=F,fillColor =  \"red\",fillOpacity =0.5) %&gt;% \n               setView(lng=2.382, lat= 48.8295,zoom = 18)\n\n\n\n\n\n\n\n\nAnalyse de l’opinion sur la Russie\nOn peut ensuite procéder à des croisements entre l’opinion sur un pays et l’âge ou le sexe des étudiants. Prenons l’exemple de la Russie.\n\n\nCode\ntab&lt;-table(sel$sex,sel$rus)\ntest&lt;-chisq.test(tab)\nplot(tab,col=c(\"red\",\"lightblue\"), main = \"Sexe et avis sur la Russie : relation significative\", sub = paste(\"chi 2 = \",round(test$statistic,3), \"  dl =\", test$parameter, \"  p = \", round(test$p.value,3)))\n\n\n\n\n\nCode\nkable(lprop(tab))\n\n\n\n\n\n\nDéfavorable\nFavorable\nTotal\n\n\n\n\nHomme\n78.37838\n21.621622\n100\n\n\nFemme\n94.20290\n5.797101\n100\n\n\nAll\n86.01399\n13.986014\n100\n\n\n\n\n\n\nCommentaire : La majorité des réponses est défavorable à la Russie (86%). Mais les femmes apparaissent plus défavroables (94%) que les hommes (78%). La réalisation d’un test statistiques du chi-2 confirme que cette relation moins de 2% de chances d’être l’effet du hasard et est donc significative (chi-2 = 6.15, dl = 1, p &lt; 0.013)\n\n\n\nCode\ntab&lt;-table(sel$age,sel$rus)\ntest&lt;-chisq.test(tab)\nplot(tab,col=c(\"red\",\"lightblue\"), main = \"Age et avis sur la Russie : relation non significative \", sub = paste(\"chi 2 = \",round(test$statistic,3), \"  dl =\", test$parameter, \"  p = \", round(test$p.value,3)))\n\n\n\n\n\nCode\nkable(lprop(tab))\n\n\n\n\n\n\nDéfavorable\nFavorable\nTotal\n\n\n\n\n- de 25 ans\n89.53488\n10.46512\n100\n\n\n25 ans et +\n80.70175\n19.29825\n100\n\n\nAll\n86.01399\n13.98601\n100\n\n\n\n\n\n\nCommentaire : Les personnes enquêtes de moins de 25 ans sont plus défavorable à la Russie (89.5%) que les personnes plus âgées (80.7%). Mais l’échantillon ne permet pas de valider l’hypothèse d’une relation significative. Il y a en effet plus de 21% de chances que les différences observées soient l’effet du hasard (chi-2 = 1.55, d.L. = 1, p = 0.213)"
  },
  {
    "objectID": "EnquetR.html#r-et-afrobarometer",
    "href": "EnquetR.html#r-et-afrobarometer",
    "title": "OBJECTIF 4 : Enquêter avec R et Kobo",
    "section": "(2) R ET AFROBAROMETER",
    "text": "(2) R ET AFROBAROMETER\nLes enquêtes Afrobarometer) sont réalisées par vagues à laquelle tous les pays du continent sont invités à participer. Au cours de chacune des vagues, des questions identiques sont posés aux citoyens de chacun des pays qui participent à l’enquête ce qui permet de comparer leurs opinions. Toutefois certains pays refusent de participer ou bien participent mais ne posent pas toutes les questions et en ajoutent parfois d’autres. Malgré ces limites il s’agit d’une source majeure d’information sur l’évolution des opinions publiques en Afrique puisque la première vague remonte à 1999 et que nous en sommes aujoud’hui à la dixième.\nLa Côte d’Ivoire a participé aux enquêtes Afrobarometer de 2013, 2014, 2019, 2021 and 2023. Celles-ci ont été réalisées par le laboratoire Zechlab. Les fichiers de résultats sont librement accessibles sur le site Afrobarometer) qui fournit à la fois les données (au format SPSS) et les métadonnées relatives aux questions posées et aux modes de collecte.\n\nImportation des données dans R\nBien qu’elles soient fournies au format SPSS (extension .sav) les données AfroBarometer peuvent facilmement être importées dans R à l’aide du package foreign ou du package haven. On peut ensuite récupérer le code des variables à l’aide du package labelled. Nous procédons ici à l’importation d’un nombre volontairement limité de variables concernant l’opinion des personnes enquêtées sur la Chine, le Japon et les USA\n\n\nCode\n# Load and add geo information\nx&lt;-read_sav(\"data/exo_afrobarometer/survey/afrobarometer_release-dataset_cdi_r9_fr_2023-03-01.sav\")\ncodes&lt;-read.csv2(\"data/exo_afrobarometer/geom/CIV_ADMIN_V2.csv\") %&gt;%\n       select(geo = ABM_code, REG_CODE,REG_NOM,DIS_CODE,DIS_NOM)\nx$geo&lt;-as.numeric(x$REGION)\nx&lt;-left_join(x,codes)\n\n# Check Geo\npop&lt;-x %&gt;% group_by(DIS_CODE, DIS_NOM) %&gt;%\n           summarise(wgt= sum(withinwt_ea),n=n())\n\n# Select some variable\nsel &lt;- x %&gt;% mutate(id = RESPNO,\n                    DIS_NOM = DIS_NOM,\n                    urb = to_factor(URBRUR),\n                    sex = to_factor(Q101),\n                    age = as.numeric(Q1),\n                    opi_chn = to_factor(Q78A),\n                    opi_usa = to_factor(Q78B),  \n                    opi_jpn = to_factor(Q78C)   \n                    ) %&gt;%\n             select(id,\n                    DIS_NOM,\n                    urb,\n                    sex,\n                    age,\n                    opi_chn,\n                    opi_usa,\n                    opi_jpn\n                    )\n\nkable(head(sel))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nid\nDIS_NOM\nurb\nsex\nage\nopi_chn\nopi_usa\nopi_jpn\n\n\n\n\nCDI1133\nYamoussoukro\nUrbain\nFemme\n27\nTrès négative\nTrès négative\nTrès négative\n\n\nCDI0105\nAbidjan\nUrbain\nFemme\n52\nQuelque peu négative\nQuelque peu positive\nQuelque peu négative\n\n\nCDI0045\nAbidjan\nUrbain\nHomme\n21\nQuelque peu positive\nQuelque peu positive\nQuelque peu positive\n\n\nCDI1087\nSassandra-Marahoué\nRural\nFemme\n45\nNe sait pas\nNe sait pas\nNe sait pas\n\n\nCDI1036\nSavanes\nRural\nHomme\n76\nQuelque peu positive\nQuelque peu positive\nQuelque peu positive\n\n\nCDI0119\nAbidjan\nUrbain\nHomme\n66\nTrès positive\nQuelque peu positive\nQuelque peu positive\n\n\n\n\n\n\n\nDistribution spatiale des réponses\nL’enquête Afrobarometer a été réalisée selon la méthode des quotas pour aboutir à un échantillon représentatif de 1200 personnes en croisant l’âge, le sexe, le niveau d’éducation, le milieu urbain ou rural et la localisation géographique. Il est donc logique que les districts les plus peuplés soient aussi ceux où il y a le plus de réponses comme on peut le voir sur la carte.\n\n\nCode\nmap&lt;-readRDS(\"data/exo_afrobarometer/geom/CIV_DISTRICTS.RDS\") %&gt;% st_transform(2042)\nrep&lt;-sel %&gt;% group_by(DIS_NOM) %&gt;% count()\nmap&lt;-map %&gt;% left_join(rep)\nmf_map(map, type=\"base\", col=\"lightyellow\")\nmf_map(map, type=\"prop\", var=\"n\", inches=0.4)\nmf_label(map, var=\"n\",col=\"black\",halo = T)\nmf_layout(\"Nombre de réponses par district à l'enquête Afrobarometer 2021\", frame = T, scale =T, credits = \"Source : Afrobarometer\")\n\n\n\n\n\nLes quotas ne sont toutefois jamais parfairement respecté et il faut en général utiliser une variable de pondération pour redresser les réponses en augmentant par exemple le poids des habitants des régions sous-représentées ou réduisant celui des régions sur-représentées. Ces questions seront discutés lors de l’école d’été mais pas abordées dans cette introduction.\n\n\nOpinion sur la Chine et sexe\nOn peut procéder comme dans l’exemple précédent à l’étude des variations de l’opinion sur un pays (ici, la Chine) en fonction de l’âge et du sexe. Il y a ici cinq niveaux d’appréciation : très négatif (–), négatif(-), neutre (O), positif(+) et très positif (++)\n\n\nCode\nlevels(sel$opi_chn) &lt;- c(NA, \"--\",\"-\",\"0\",\"+\",\"++\",NA,NA)\ntab&lt;-table(sel$sex,sel$opi_chn)\ntest&lt;-chisq.test(tab)\nplot(tab,col=c(\"red\",\"pink\",\"lightyellow\",\"lightblue\",\"blue\"), main = \"Sexe et avis sur la Chine : relation significative\", sub = paste(\"chi 2 = \",round(test$statistic,3), \"  dl =\", test$parameter, \"  p = \", round(test$p.value,3)))\n\n\n\n\n\nCode\nkable(lprop(tab))\n\n\n\n\n\n\n–\n-\n0\n+\n++\nTotal\n\n\n\n\nHomme\n5.882353\n8.912656\n7.664884\n42.24599\n35.29412\n100\n\n\nFemme\n5.628518\n12.945591\n12.570357\n43.71482\n25.14071\n100\n\n\nAll\n5.758684\n10.877514\n10.054845\n42.96161\n30.34735\n100\n\n\n\n\n\n\nCommentaire : L’opinion est majoritairement favorable ou très favorable à la Chine. Mais les femmes sont dans l’ensemble plus réservées que les hommes vis à vis de ce pays et les différences observées entre les deux sexes sont très significatives.\n\n\n\nOpinion sur la Chine et âge\nExaminons maintenant l’effet de l’âge en trois groupes.\n\n\nCode\nsel$age &lt;- cut(sel$age, breaks=c(0,25,50,100))\ntable(sel$age)\n\n\n\n  (0,25]  (25,50] (50,100] \n     349      692      159 \n\n\nCode\ntab&lt;-table(sel$age,sel$opi_chn)\ntest&lt;-chisq.test(tab)\nplot(tab,col=c(\"red\",\"pink\",\"lightyellow\",\"lightblue\",\"blue\"), main = \"Âge et avis sur la Chine : relation non significative\", sub = paste(\"chi 2 = \",round(test$statistic,3), \"  dl =\", test$parameter, \"  p = \", round(test$p.value,3)))\n\n\n\n\n\nCode\nkable(lprop(tab))\n\n\n\n\n\n\n–\n-\n0\n+\n++\nTotal\n\n\n\n\n(0,25]\n6.666667\n11.42857\n11.428571\n44.44444\n26.03175\n100\n\n\n(25,50]\n5.221519\n10.75949\n9.810127\n41.61392\n32.59494\n100\n\n\n(50,100]\n6.122449\n10.20408\n8.163265\n45.57823\n29.93197\n100\n\n\nAll\n5.758684\n10.87751\n10.054845\n42.96161\n30.34735\n100\n\n\n\n\n\n\nCommentaire : L’opinion sur la Chine ne semble pas liée à l’âge. Aucune différence significative n’aparaît entre les différentes classes d’âge.\n\n\n\nOpinion sur la Chine et milieu urbain ou rural\nY-a-t-il une opposition entre les milieux urbain et ruraux ?\n\n\nCode\ntab&lt;-table(sel$urb,sel$opi_chn)\ntest&lt;-chisq.test(tab)\nplot(tab,col=c(\"red\",\"pink\",\"lightyellow\",\"lightblue\",\"blue\"), main = \"Milieu  et avis sur la Chine : relation non significative\", sub = paste(\"chi 2 = \",round(test$statistic,3), \"  dl =\", test$parameter, \"  p = \", round(test$p.value,3)))\n\n\n\n\n\nCode\nkable(lprop(tab))\n\n\n\n\n\n\n–\n-\n0\n+\n++\nTotal\n\n\n\n\nUrbain\n5.700326\n10.26059\n9.934853\n43.97394\n30.13029\n100\n\n\nRural\n5.833333\n11.66667\n10.208333\n41.66667\n30.62500\n100\n\n\nAll\n5.758684\n10.87751\n10.054845\n42.96161\n30.34735\n100\n\n\n\n\n\n\nCommentaire : L’opinion sur la Chine ne semble pas non plus lié au fait d’habiter en ville ou à la campagne.\n\n\n\nOpinion sur la Chine et districts\nExiste-t-il une opposition en fonction des districts ?\n\n\nCode\nsel$dis&lt;-substr(sel$DIS_NOM,1,3)\ntab&lt;-table(sel$dis,sel$opi_chn)\ntest&lt;-chisq.test(tab)\nplot(tab,col=c(\"red\",\"pink\",\"lightyellow\",\"lightblue\",\"blue\"), main = \"Districts  et avis sur la Chine : relation non significative\", sub = paste(\"chi 2 = \",round(test$statistic,3), \"  dl =\", test$parameter, \"  p = \", round(test$p.value,3)))\n\n\n\n\n\nCode\nkable(lprop(tab))\n\n\n\n\n\n\n–\n-\n0\n+\n++\nTotal\n\n\n\n\nAbi\n6.143345\n13.310580\n11.262799\n40.61433\n28.66894\n100\n\n\nBas\n3.846154\n7.692308\n15.384615\n46.15385\n26.92308\n100\n\n\nCom\n2.272727\n11.363636\n13.636364\n38.63636\n34.09091\n100\n\n\nDen\n6.666667\n13.333333\n6.666667\n46.66667\n26.66667\n100\n\n\nGôh\n11.428571\n7.142857\n8.571429\n34.28571\n38.57143\n100\n\n\nLac\n1.298701\n18.181818\n9.090909\n50.64935\n20.77922\n100\n\n\nLag\n2.941177\n7.352941\n10.294118\n36.76471\n42.64706\n100\n\n\nMon\n3.603604\n12.612613\n11.711712\n50.45045\n21.62162\n100\n\n\nSas\n6.521739\n1.086957\n8.695652\n27.17391\n56.52174\n100\n\n\nSav\n1.149425\n9.195402\n3.448276\n56.32184\n29.88506\n100\n\n\nVal\n7.246377\n8.695652\n11.594203\n53.62319\n18.84058\n100\n\n\nWor\n17.021277\n12.765957\n4.255319\n36.17021\n29.78723\n100\n\n\nYam\n15.789474\n21.052632\n0.000000\n31.57895\n31.57895\n100\n\n\nZan\n6.000000\n12.000000\n16.000000\n50.00000\n16.00000\n100\n\n\nAll\n5.758684\n10.877514\n10.054845\n42.96161\n30.34735\n100\n\n\n\n\n\n\nCommentaire : Le graphique et le test du chi-2 suggèrent qu’ul existe une relation significative entre la localisation géographique et l’avis sur le Chine. Mais il faut être prudent dans nos conclusions car certains districts ont ds effectifs très faibles de personnes enquêtées. On peut toutefois essayer d’analyser la géographie de la distribution des avis sur la Chine en calculant un indice synthétique d’appréciation et en le visualisant à l’aide d’une carte.\n\n\n\nCode\ntab &lt;- sel  %&gt;% mutate(NEG = opi_chn %in% c(\"--\",\"-\"),\n                      POS = opi_chn %in% c(\"++\",\"+\")) %&gt;%\n                group_by(DIS_NOM) %&gt;%\n                summarise(NEG = sum(NEG),\n                          POS= sum(POS),\n                          ATT = (POS-NEG)/(POS+NEG))\n\nmapdon &lt;- left_join(map,tab)\n\nmf_map(mapdon, type=\"choro\",var = \"ATT\",leg_pos = \"left\", leg_title = \"(Pos-Neg)/(Pos+Neg)\")\nmf_layout(title = \"Indice d'attraction de la Chine par district de Côte d'Ivoire en 2021\",\n          credits=\"Source : Afrobarometer, 2021\", frame=T, arrow = T, scale = T)\n\n\n\n\n\n\nCommentaire :"
  },
  {
    "objectID": "Magrit.html",
    "href": "Magrit.html",
    "title": "OBJECTIF 2 : Cartographie thématique avec Magrit",
    "section": "",
    "text": "On se propoe de montrer ici brièvement l’intérêt du logiciel MAGRIT pour la réalisation de cartes thématiques aussi appelées cartes statistiques. Les cartes thématiques constituent un domaine particulier de la géomatique qui cherche à visualiser la distribution de phénomènes économiques et sociaux distribués le plus souvent à l’intérieur de maillages administratifs issus notamment des recensement. Elle obéit à des règles précises de sémiologie graphique et a donné naissance à des logiciels spécialisés tels que Philcarto et, plus récemment MAGRIT.\nMAGRIT constitue actuellement la solution la plus innovante et la plus efficace en matière de cartograhie thématique. Très utilisé dans l’enseignement, il constitue également un outil de recherche et a fréquemment été utilisé pour la création d’atlas ou d’études à portée opérationnelle.\nInitialement développé comme une application web accessible par l’adresse https://magrit.cnrs.fr/, il est désormais disponible en version desktop téléchargeable que l’on peut installer sur son poste de travail et utiliser sans connexion internet. Ceci est particulièrement précieux pour les utilisateurs localisés dans des pays où les connexions internet sont instables et coûteuses.\nNous allons prendre comme objectif typique l’exemple de la création d’une carte à partir de données du dernier recensement de Côte d’Ivoire en 2021. On supposera que l’on veut créer une carte de l’équipement des ménages en ordinateur dans le district de la vallée du Bandaman au niveau des communes et sous préfectures. Voici le résultat final auquel nous devons aboutir :"
  },
  {
    "objectID": "Magrit.html#donnees-geometriques",
    "href": "Magrit.html#donnees-geometriques",
    "title": "OBJECTIF 2 : Cartographie thématique avec Magrit",
    "section": "(1) DONNEES GEOMETRIQUES",
    "text": "(1) DONNEES GEOMETRIQUES\nNous avons besoin de disposer tout d’abord d’un fonds de carte administratif de la côte d’Ivoire au niveau des communes et sous-préfecture qui soit compatible avec les données du recensement de 2021. Après quelques recherches, on trouve un fonds de carte récent des communes de côte d’Ivoire sur le site du SIGFU\n\nAprès avoir importé ce fonds de carte dans un format quelconque (shapefile, geojson) on le charge dans MAGRIT et on obtient une première visualisation sans avoir besoin de se servir de QGIS ou ARCGIS?"
  },
  {
    "objectID": "Magrit.html#selection",
    "href": "Magrit.html#selection",
    "title": "OBJECTIF 2 : Cartographie thématique avec Magrit",
    "section": "(2) SELECTION",
    "text": "(2) SELECTION\nOn souhaite maintenant extraire uniquement le fonds de carte du district de la vallée du Bandana. Là encore, pas besoin de recourir à un SIG puisque MAGRIT dispose de fonctions de sélections à l’intérieur d’une couche. Ici, nous demandons dans notre requête de choisir toutes les entités situées dans les départements de Gbeke ou Hambol qui constituent le district de la Vallée du Bandaman\n\nOn peut alors afficher le résultat de la sélection sous forme d’une nouvelle couche et rendre invisible la précédente :"
  },
  {
    "objectID": "Magrit.html#agregation",
    "href": "Magrit.html#agregation",
    "title": "OBJECTIF 2 : Cartographie thématique avec Magrit",
    "section": "(3) AGREGATION",
    "text": "(3) AGREGATION\nMaintenant que nous disposons du fonds de carte principal, nous souhaiterions l’agréger aux niveaux administratifs supérieur. Là encore, MAGRIT offre des fonctions pratiques d’agrégation géométrique qui fonctionne parfaitement (si la géométrie du fonds de carte est correcte). On peut donc créer le fonds de carte des départements et celui des régions en se servant des codes fournis par le fonds de carte.\n \nOn peut ensuite empiler nos trois couches et régler la transparence et l’épaissur des limites pour faire apparaître les trois niveaux administratifs"
  },
  {
    "objectID": "Magrit.html#donnees-statistiques",
    "href": "Magrit.html#donnees-statistiques",
    "title": "OBJECTIF 2 : Cartographie thématique avec Magrit",
    "section": "(4) DONNEES STATISTIQUES",
    "text": "(4) DONNEES STATISTIQUES\nNous allons maintenant ajouter des données statistiques à notre fonds de carte en nous servant des tableaux fournis par l’Agence Nationale de la Statistique de Côte d’Ivoire (ANSTAT) et accessibles sous forme de fichier détaillés par communes sur le site des résultats du recensement 2021.\n\nNous allons prendre comme exemple le tableau n°17 intitulé répartition des ménages selon la possession d’équipement informatiqus, audiovisuels et de communication. les résultats peuvent se consulter en ligne et fournissent le détail du nombre de ménages mossédant tel ou tel équipement par district, région, département, sous-préfecture ou commune comme on peut le voir sur la page ci-dessous :\n\nLe fichier .pdf peut-être téléchargé mais l’extraction des données n’est pas très facile. On est donc obligé de saisir manuellement dans un tableau Excel les colonnes qui nous intéressent en ayant soin d’ajouter au préalable une colonne correspondant au code cartographique du fonds de carte. Ici, nous avons retenu uniquement trois variables correspondant au nombre d’habitant, au nombre de ménages et au nombre d’ordinateur par sous-préfectures ou communes du district de la Vallée du Bandaman."
  },
  {
    "objectID": "Magrit.html#jointure",
    "href": "Magrit.html#jointure",
    "title": "OBJECTIF 2 : Cartographie thématique avec Magrit",
    "section": "(5) JOINTURE",
    "text": "(5) JOINTURE\nNous allons ensuite importer ce fichier Excel dans MAGRIT et effectuer sa jointure avec notre fonds de carte des communes et sous-préfectures en fournissant le nom de la variable utilisée pour faire le lien, comme on le ferait avec un SIG."
  },
  {
    "objectID": "Magrit.html#carte-de-stock",
    "href": "Magrit.html#carte-de-stock",
    "title": "OBJECTIF 2 : Cartographie thématique avec Magrit",
    "section": "(6) CARTE DE STOCK",
    "text": "(6) CARTE DE STOCK\nLa table attributaire de la couche des communes et sous-préfecture comporte désormais les variables que nous avions saisi et on peut commencer à créer une carte thématique représentant par exemple la population. Il suffit de quelques commandes pour préciser la couleur des figurés proportionnels et leur taille maximale.\n\nLe résultat s’affiche immédiatement sous la forme d’une nouvelle couche superposée aux précédentes. On remarquera que MAGRIT a calculé automatiquement le centroïde des polygones pour y placer les cercles représentant la population."
  },
  {
    "objectID": "Magrit.html#creation-de-variables",
    "href": "Magrit.html#creation-de-variables",
    "title": "OBJECTIF 2 : Cartographie thématique avec Magrit",
    "section": "(7) CREATION DE VARIABLES",
    "text": "(7) CREATION DE VARIABLES\nNous souhaiterions maintenant cartographier le nombre moyen d’ordinateurs pour 100 ménages et réaliser une carte choroplèthe du niveau d’équipement. Nous aurions pu créer cette variable dans Excel au moment de la saisie des données, mais il est possible de le faire également à l’intérieur de MAGRIT."
  },
  {
    "objectID": "Magrit.html#carte-choroplethe",
    "href": "Magrit.html#carte-choroplethe",
    "title": "OBJECTIF 2 : Cartographie thématique avec Magrit",
    "section": "(8) CARTE CHOROPLETHE",
    "text": "(8) CARTE CHOROPLETHE\nNous allons maintenant pouvoir utiliser cette nouvelle variable pour réaliser une carte du taux d’équipement en choisissant la palette de couleur et le mode de discrétisation en classes. MAGRIT fournit une aide au choix des classes grâce à un petit utilitaire de statistiques qui permet de visualiser la forme de la distribution.\n\nDans l’exemple du nombre d’ordinateur par ménage, la distribution est très asymétrique à gauche et un découpage selon une progression géométrique semble être une bonne solution."
  },
  {
    "objectID": "Magrit.html#organisation-des-couches",
    "href": "Magrit.html#organisation-des-couches",
    "title": "OBJECTIF 2 : Cartographie thématique avec Magrit",
    "section": "(9) ORGANISATION DES COUCHES",
    "text": "(9) ORGANISATION DES COUCHES\nNous allons maintenant réorganiser les couches cartographiques et rendre invisible celles qui ne sont pas nécessaires. Dans notre exemple, on garde la carte choroplète et on superpose par dessus les découpages administratifs des départements et régions. Puis on ajoute une nouvelle couhce avec le nombre total d’ordinateurs en suivant la même procédure que pour la population puisqu’il s’agit d’un stock."
  },
  {
    "objectID": "Magrit.html#habillage-et-finitions",
    "href": "Magrit.html#habillage-et-finitions",
    "title": "OBJECTIF 2 : Cartographie thématique avec Magrit",
    "section": "(10) HABILLAGE ET FINITIONS",
    "text": "(10) HABILLAGE ET FINITIONS\nNous disposons désormais de toutes les couches cartographiques utiles mais il faut encore habiller notrre carte en ajoutant plusieurs éléments (titre, source, échelle, orientation, …). Ce travail est en général fait dans un logiciel de dessin spécialisé comme Adobe Illustrator ou Inkscape. Mais MAGRIT offre des fonctionalités très avancées qui permettent d’effectuer l’essentiel du travail sans changer de logiciel. Sans les détailler ici, nous présentons le résultat après ce travail exigeant qui suppose une bonne formation professionnelle de cartographe."
  },
  {
    "objectID": "Magrit.html#sauvegarde-et-exportation",
    "href": "Magrit.html#sauvegarde-et-exportation",
    "title": "OBJECTIF 2 : Cartographie thématique avec Magrit",
    "section": "(11) SAUVEGARDE ET EXPORTATION",
    "text": "(11) SAUVEGARDE ET EXPORTATION\nLe projet MAGRIT peut être sauvegardé à tout moment au format .mjson ce qui permet ensuite de le reprendre et de le modifier. Ou simplement de réutiliser une partie des couches déjà créée. Si par exemple on souhaite créer une carte du nombre de téléphone mobiles par habitant, il suffira d’importer un nouveau jeu de données et de refaire les couches correspondantes sans être obligé de répéter toutes les étapes.\nLa carte proprement dite peut être exportée sous différents formats en fonction des utilisations que l’on souhaite en faire :\n\nformat SVG : c’est un format vectoriel qui permet des retouches à l’aide d’un logiciel de dessin (Adobe Illustrator ou Inkscape) et assure une qualité maximale pour l’édition d’un atlas, un livre ou un article. Il peut facilement se convertir en .pdf ou en postscript.\nformat PNG : c’est un format image (bitmap) plus pratique pour la production de site web ou la retouche rapide dans un logiciel de traitement d’image comme photoshop ou simplement paint.\nformat couches : c’est un format d’exportation vers les logiciels de SIG (QGIS ou ARCGIS) de type shapefile, geojson, geopackage, etc… On sélectionne les couches que l’on veut exporter pour en faire des fichiers séparés."
  },
  {
    "objectID": "Magrit.html#conclusion",
    "href": "Magrit.html#conclusion",
    "title": "OBJECTIF 2 : Cartographie thématique avec Magrit",
    "section": "CONCLUSION",
    "text": "CONCLUSION\nMAGRIT n’a pas vocation à se substituer aux SIG (ou R) qui demeurent essentiel pour des cartographies complexes (topographie, images satellites, …) ou pour des opérations d’analyse spatiales (buffer, intersections, analyse de réseaux, …). Mais il offre une solution intégrée de très grande rapidité et efficacité pour la production de cartes thématiques. Sa principale force réside dans l’intégration des différentes étapes qui vont de la collecte de l’information statistique et cartographique à la production d’une carte thématique de qualité respectant l’ensemble des règles de la sémiologie graphique."
  },
  {
    "objectID": "index.html#objectif",
    "href": "index.html#objectif",
    "title": "AFROMAPR 2025",
    "section": "Objectif",
    "text": "Objectif\n\n\n\nConformément au programme de travail 2025-2029 approuvé par son Comité de Direction, la Fédération de Recherche CIST souhaite poursuivre ses actions de co-construction d’outils et méthodes des sciences territoriales destinés aux formateurs européens et africains. Après l’école d’été CIST « Outils et Méthodes des Sciences territoriales » (Paris, France, 2022 et Ouidah, Bénin, 2023) et l’école d’été « GEOUNIV’R 2024 » (Sousse, Tunisie, 2024), nous proposons d’organiser en juillet 2025 à Bouaké (Côte d’Ivoire) une école d’été centrée sur l’enseignement de la statistique et de la cartographie appliquées aux dynamiques des territoires dans un environnement informationnels (disponibilité et accès aux données) spécifique aux contextes ouest-africains, avec les logiciels libres et gratuits R et Magrit.\n\n\n\n\n\n\nReprenant la philosophie des deux écoles d’été précédentes, l’école 2025 visera trois objectifs :\n\nL’apprentissage de deux logiciels libres et gratuits (R et Magrit) qui sont à la fois très performants et complémentaires dans la réalisation d’une chaîne de traitement qui va de (1) la collecte des données à (2) la représentations cartographique, (3) l’analyse statistique et (4) la restitution des résultats sous la forme de documents scientifiques, de diaporama ou de supports de cours.\nL’application de ces outils à des questions d’enseignement et de recherche des pratiques de développement territorial dans le cadre d’ateliers spécialisés à partir de données et de questions proposées par les participants ou d’une enquête de terrain réalisée au début de la semaine de formation. Les thèmes des ateliers porteront sur la question des transitions territoriales, qui est au cœur du projet 2025-2029 du CIST et sera l’objet de son prochain colloque.\nL’archivage et la reproductibilité des outils de formation, en utilisant des logiciels libres et des données disponibles dans l’ensemble des pays africains avec un focus particulier sur les pays d’Afrique de l’Ouest. La formation dispensée en Côte d’Ivoire en 2025 pourra ainsi être réappropriée par les participants des autres pays ayant participé à la première école d’été du CIST en 2023 (Sénégal, Bénin, Togo, Niger, Burkina Faso, Mali)."
  },
  {
    "objectID": "index.html#magrit",
    "href": "index.html#magrit",
    "title": "AFROMAPR 2025",
    "section": "Magrit",
    "text": "Magrit\n\n\n\nDéveloppée par l’UAR RIATE, Magrit est une application de cartographie thématique, principalement dédiée à l’apprentissage et à l’enseignement de la cartographie mais pouvant également être utilisée par tout utilisateur désireux de réaliser des cartes thématiques (journalisme, recherche, etc.).\n\n\n\n\n\n\nMagrit permet de créer des cartes personnalisées avec ses propres données et de les partager en ligne. L’application est conçue pour être simple d’utilisation, tout en offrant des fonctionnalités avancées pour les utilisateurs expérimentés. Magrit est un logiciel libre (disponible sous licence GPL 3.0), gratuit, sans publicité ni collecte d’informations personnelles.\nSon intérêt pour l’enseignement supérieur et la recherche dans les pays du Nord et du Sud avait été confirmé lors de l’école d’été CIST 2023 au Bénin. Cependant, un obstacle majeur à sa diffusion restait lié au fait que la première version du logiciel fonctionnait uniquement en ligne et supposait l’emploi d’une connexion internet, ce qui pouvait s’avérer problématique pour son usage dans les pays du Sud. La nouvelle version de Magrit permet désormais non seulement un usage en ligne mais aussi une installation simple et rapide sur les ordinateurs des utilisateurs et un fonctionnement hors connexion. Elle offre de plus de nouvelles fonctionnalités de cartographie et des gains en termes d’ergonomie et de rapidité.\nL’école d’été AFROMAP’R sera donc l’occasion de diffuser plus largement cet outil en Afrique de l’Ouest et de bénéficier du retour des utilisateurs pour améliorer les futures versions. Il sera testé sur des bases de données de natures variées dans les domaines de la géographie humaine, de l’aménagement du territoire, de l’environnement et de la santé à travers différents ateliers."
  },
  {
    "objectID": "index.html#r-rstudio",
    "href": "index.html#r-rstudio",
    "title": "AFROMAPR 2025",
    "section": "R & Rstudio",
    "text": "R & Rstudio\n\n\n\nSi R est d’abord connu comme le logiciel mondial de référence en matière d’analyse statistique, il offre des fonctionnalités de plus en plus nombreuses à travers l’ajout régulier de nouveaux packages spécialisés qui permettent - entre autres- de faire de l’analyse de réseaux, de l’analyse textuelle, du traitement d’images, de la gestion de bases de données et enfin de la cartographie et du SIG. Même si le coût d’entrée dans ce logiciel demeure plus élevé que celui d’autres logiciels de statistiques – car il suppose d’apprendre les bases de la programmation – il offre à long terme des perspectives particulièrement intéressantes d’intégration de chaînes de traitement combinant des étapes généralement effectuées avec des logiciels différents.\n\n\n\n\n\n\n\n\n\nL’intégration offerte par R ne concerne pas uniquement les étapes de traitement statistique et cartographique, mais aussi la production de documents finaux grâce à l’environnement R studio. Celui-ci permet à l’utilisateur de rédiger des documents (cours, TD, articles scientifiques), des présentations (diaporamas) ou même des sites web interactifs en utilisant un unique langage d’écriture (R markdown ou Quarto) où alternent des blocs de textes (comme dans Word) et des blocs de programme R générant des tableaux et des graphiques (comme dans Excel) et des cartes ou images (comme dans un SIG).\n\n\n\n\n\n\nL’apprentissage combiné de R et Rstudio est particulièrement précieux pour les enseignants qui peuvent ainsi plus facilement préparer et mettre à jour leurs cours ou bien générer des sujets d’examens différents pour plusieurs groupes de travaux dirigés. Les enseignants de statistique et de cartographie sont les destinataires les plus évidents de la formation proposée. Mais les autres enseignants chercheurs peuvent également en tirer parti pour des cours thématiques de géographie humaine, économique ou physique, d’économie ou de sociologie.\nLa formation AFROMAP’R ne sera donc pas centrée uniquement sur l’apprentissage de la statistique avec R mais aussi et surtout sur la façon de produire des documents de cours et de travaux dirigés combinant cartes, tableaux et graphiques dans un même document prenant la forme finale d’un polycopié ou d’un diaporama. Et sur la possibilité de procéder facilement à des mises à jour de ces cours en modifiant les données statistiques et cartographiques utilisées en entrée."
  },
  {
    "objectID": "index.html#des-ateliers-pratiques",
    "href": "index.html#des-ateliers-pratiques",
    "title": "AFROMAPR 2025",
    "section": "Des ateliers pratiques",
    "text": "Des ateliers pratiques\nL’école d’été AFROMAP’R visera avant tout une approche pratique et opérationnelle permettant aux enseignants qui suivront la formation de produire à la fin de celle-ci leurs propres cartes (avec Magrit), leurs propres analyses statistiques (avec R) et surtout leurs propres documents de cours ou de travaux dirigés (avec R studio). Ils pourront par la suite utiliser ces savoir-faire pour la production d’articles de recherche ou de travaux d’expertise mais ce n’est pas le but prioritaire de cette formation destinée d’abord aux enseignants.\nPour faciliter les échanges et l’apprentissage, on regroupera les stagiaires dans des ateliers thématiques qui mobiliseront dans tous les cas des données libres de droits et facilement accessibles en Côte d’Ivoire et dans les autres pays d’Afrique de l’Ouest. On peut citer à titre d’exemple les bases de données suivantes (à compléter) :\n\nIPUMS: données individuelles de recensement\nDHS : enquêtes internationales de santé\nAfrobarometer : enquêtes d’opinion pan-africaines\nAfricapolis: données historiques sur l’urbanisation en Afrique\nGDL : données infranationales sur l’IDH et ses composantes\n\nOSM : données cartographique collaboratives\n.\n\nChaque atelier utilisant ces bases visera à produire des exemples pédagogiques portant en priorité sur la Côte d’Ivoire ou l’Afrique de l’Ouest, mais reproductibles sur d’autres pays et d’autres régions du monde. Ces travaux seront mis en ligne à l’issue de la formation sous la forme de publications pédagogiques signées par leurs auteurs."
  },
  {
    "objectID": "index.html#programme-et-calendrier-version-provisoire",
    "href": "index.html#programme-et-calendrier-version-provisoire",
    "title": "AFROMAPR 2025",
    "section": "Programme et calendrier (version provisoire)",
    "text": "Programme et calendrier (version provisoire)\n\n\n29 Juin : Les participants seront accueillis le dimanche 29 matin sur le lieu de formation. L’après-midi sera consacré à l’installation des bases de données et logiciels sur les ordinateurs personnels.\n30 Juin : La première journée sera consacrée à la présentation de la formation et l’apprentissage de l’environnement R Studio. Les étudiants apprendront à importer leurs données dans R, à rédiger quelques traitements de base et produire un document. L’après-midi sera consacré à un exercice de collecte de données de terrain avec Kobo Toolbox.\n1-3 Juillet : Les matinées seront consacrées à l’apprentissage des méthodes d’analyse statistique (avec R) et de cartographie (avec Magrit ou R) à partir de jeux de données fournis par les formateurs. Les ateliers de l’après-midi viseront à reproduire ces méthodes sur des données apportées par les participants.\n4 Juillet : Restitution des travaux des ateliers et remise des certificats de participation."
  },
  {
    "objectID": "index.html#equipe-de-formateurs",
    "href": "index.html#equipe-de-formateurs",
    "title": "AFROMAPR 2025",
    "section": "Equipe de formateurs",
    "text": "Equipe de formateurs\n\nClaude Grasland : R, statistiques\nBamba Vakaramoko : Magrit, cartographie, enquête\nGéraud Magrin : Ateliers, enquête\nStéphane Koffi Yéboué Koissy : Ateliers, enquête\nBrian Plaisant : R, SIG\nMelody Dumont : R, Magrit, cartographie\nJean-Paul N’Gbesso : R, statistiques\nFelix Kouamé N’Dri : R, SIG\nGrégoire Feyt : Ateliers, enquête, statistiques"
  },
  {
    "objectID": "index.html#archives-des-écoles-dété-du-cist",
    "href": "index.html#archives-des-écoles-dété-du-cist",
    "title": "AFROMAPR 2025",
    "section": "Archives des écoles d’été du CIST",
    "text": "Archives des écoles d’été du CIST\n\nOuidah, Bénin, 2023 : EE CIST 2023 : Méthodes et outils des sciences territoriales\nSousse, Tunisie, 2024 : Geouniv’r 2024"
  }
]